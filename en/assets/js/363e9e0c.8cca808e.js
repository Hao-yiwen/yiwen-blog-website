"use strict";(self.webpackChunkyiwen_blog_website=self.webpackChunkyiwen_blog_website||[]).push([[8905],{3905:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},p=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},b=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,p=o(e,["components","mdxType","originalType","parentName"]),u=c(n),b=r,m=u["".concat(s,".").concat(b)]||u[b]||d[b]||i;return n?a.createElement(m,l(l({ref:t},p),{},{components:n})):a.createElement(m,l({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,l=new Array(i);l[0]=b;var o={};for(var s in t)hasOwnProperty.call(t,s)&&(o[s]=t[s]);o.originalType=e,o[u]="string"==typeof e?e:r,l[1]=o;for(var c=2;c<i;c++)l[c]=n[c];return a.createElement.apply(null,l)}return a.createElement.apply(null,n)}b.displayName="MDXCreateElement"},8039:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const i={sidebar_position:4},l="sqlite",o={unversionedId:"native/flutter/sqlite",id:"native/flutter/sqlite",title:"sqlite",description:"\u4ecb\u7ecd",source:"@site/docs/native/flutter/sqlite.md",sourceDirName:"native/flutter",slug:"/native/flutter/sqlite",permalink:"/yiwen-blog-website/en/docs/native/flutter/sqlite",draft:!1,editUrl:"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/native/flutter/sqlite.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"nativeSidebar",previous:{title:"i18n\u548cl10n",permalink:"/yiwen-blog-website/en/docs/native/flutter/l10n"},next:{title:"Ios\u5f00\u53d1",permalink:"/yiwen-blog-website/en/docs/native/ios/intro"}},s={},c=[{value:"\u4ecb\u7ecd",id:"\u4ecb\u7ecd",level:2},{value:"\u5728flutter\u4e2d\u4f7f\u7528",id:"\u5728flutter\u4e2d\u4f7f\u7528",level:2},{value:"QA",id:"qa",level:2},{value:"sqlite\u652f\u6301\u5728macos\uff0c web\u4f7f\u7528\u5417\uff1f",id:"sqlite\u652f\u6301\u5728macos-web\u4f7f\u7528\u5417",level:2}],p={toc:c},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.kt)(u,(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"sqlite"},"sqlite"),(0,r.kt)("h2",{id:"\u4ecb\u7ecd"},"\u4ecb\u7ecd"),(0,r.kt)("p",null,"SQLite \u662f\u4e00\u4e2a\u6d41\u884c\u7684\u5d4c\u5165\u5f0f\u6570\u636e\u5e93\u7ba1\u7406\u7cfb\u7edf\uff0c\u5b83\u4e0d\u540c\u4e8e\u5178\u578b\u7684\u5ba2\u6237\u7aef-\u670d\u52a1\u5668\u6570\u636e\u5e93\u7cfb\u7edf\u3002\u4ee5\u4e0b\u662fSQLite\u7684\u4e00\u4e9b\u5173\u952e\u7279\u6027\u548c\u4fe1\u606f\uff1a"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"\u5d4c\u5165\u5f0f SQL \u6570\u636e\u5e93\u5f15\u64ce:")),(0,r.kt)("p",null,"SQLite \u662f\u4e00\u4e2a\u5728\u5e94\u7528\u7a0b\u5e8f\u5185\u90e8\u8fd0\u884c\u7684\u96f6\u914d\u7f6e\u3001\u65e0\u9700\u670d\u52a1\u5668\u548c\u65e0\u9700\u5b89\u88c5\u7684\u6570\u636e\u5e93\u5f15\u64ce\u30022. \u8f7b\u91cf\u7ea7:"),(0,r.kt)("p",null,"\u5b83\u975e\u5e38\u5c0f\u5de7\uff0c\u9002\u5408\u4efb\u4f55\u89c4\u6a21\u7684\u7cfb\u7edf\uff0c\u4ece\u5d4c\u5165\u5f0f\u8bbe\u5907\u5230\u667a\u80fd\u624b\u673a\u518d\u5230\u53f0\u5f0f\u673a\u548c\u670d\u52a1\u5668\u30023. \u81ea\u7ed9\u81ea\u8db3:"),(0,r.kt)("p",null,"SQLite \u4e0d\u9700\u8981\u4e00\u4e2a\u72ec\u7acb\u7684\u670d\u52a1\u5668\u8fdb\u7a0b\u6216\u7cfb\u7edf\u6765\u64cd\u4f5c\uff0c\u6570\u636e\u5e93\u5c31\u662f\u4e00\u4e2a\u6587\u4ef6\u30024. \u8de8\u5e73\u53f0:"),(0,r.kt)("p",null,"\u5b83\u63d0\u4f9b\u4e86\u8de8\u5e73\u53f0\u7684\u652f\u6301\uff0c\u5728\u5927\u591a\u6570\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u90fd\u80fd\u591f\u8fd0\u884c\u30025. \u4e8b\u52a1\u6027:"),(0,r.kt)("p",null,"SQLite \u652f\u6301 SQL \u6807\u51c6\u7684\u4e8b\u52a1\uff0c\u662f ACID \u517c\u5bb9\u7684\uff0c\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u5728\u7cfb\u7edf\u5d29\u6e83\u6216\u7535\u6e90\u5931\u6548\u7684\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u7684\u4e8b\u52a1\u4e5f\u90fd\u662f\u5b89\u5168\u7684\u3002"),(0,r.kt)("h2",{id:"\u5728flutter\u4e2d\u4f7f\u7528"},"\u5728flutter\u4e2d\u4f7f\u7528"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-dart"},"import 'package:flutter/material.dart';\nimport 'package:sqflite/sqflite.dart';\nimport 'package:path/path.dart';\nimport 'dart:async';\n\nvoid main() async => runApp(MyApp());\n\nclass MyApp extends StatelessWidget {\n  @override\n  Widget build(BuildContext context) {\n    return MaterialApp(\n      title: 'Flutter SQLite Demo',\n      theme: ThemeData(\n        primarySwatch: Colors.blue,\n      ),\n      home: MyHomePage(),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  @override\n  _MyHomePageState createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  late Database database;\n\n  @override\n  void initState() {\n    super.initState();\n    initializeDatabase();\n  }\n\n  Future<void> initializeDatabase() async {\n    // \u83b7\u53d6\u6570\u636e\u5e93\u8def\u5f84\n    String databasePath = await getDatabasesPath();\n    String path = join(databasePath, 'my_database.db');\n\n    // \u6253\u5f00/\u521b\u5efa\u6570\u636e\u5e93\n    database = await openDatabase(path, version: 1, onCreate: (Database db, int version) async {\n      // \u521b\u5efa\u8868\n      await db.execute('CREATE TABLE Test (id INTEGER PRIMARY KEY, name TEXT)');\n    });\n\n    // \u63d2\u5165\u6570\u636e\n    await insertTestData();\n\n    // \u67e5\u8be2\u6570\u636e\n    List<Map> list = await database.rawQuery('SELECT * FROM Test');\n    print(list);\n  }\n\n  Future<void> insertTestData() async {\n    await database.transaction((txn) async {\n      int id1 = await txn.rawInsert(\n        'INSERT INTO Test(name) VALUES(\"lalala\")'\n      );\n      print('inserted1: $id1');\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    return Scaffold(\n      appBar: AppBar(\n        title: Text('Flutter SQLite Demo'),\n      ),\n      body: Center(\n        child: Text('Check console for SQL operations results.'),\n      ),\n    );\n  }\n\n  @override\n  void dispose() {\n    database.close();\n    super.dispose();\n  }\n}\n\n")),(0,r.kt)("h2",{id:"qa"},"QA"),(0,r.kt)("h2",{id:"sqlite\u652f\u6301\u5728macos-web\u4f7f\u7528\u5417"},"sqlite\u652f\u6301\u5728macos\uff0c web\u4f7f\u7528\u5417\uff1f"),(0,r.kt)("p",null,"Flutter \u7684 sqflite \u63d2\u4ef6\u652f\u6301\u5728 iOS \u548c Android \u4e0a\u4f7f\u7528 SQLite \u6570\u636e\u5e93\uff0c\u4f46\u5b83\u4e0d\u652f\u6301 macOS \u548c Web \u5e73\u53f0\u3002\u5728 Flutter \u4e2d\uff0c\u4e0d\u540c\u5e73\u53f0\u7684\u6570\u636e\u5b58\u50a8\u9700\u6c42\u548c\u652f\u6301\u60c5\u51b5\u53ef\u80fd\u6709\u6240\u4e0d\u540c\u3002"))}d.isMDXComponent=!0}}]);