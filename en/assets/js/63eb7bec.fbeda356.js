"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[85764],{28453:(e,n,i)=>{i.d(n,{R:()=>l,x:()=>a});var t=i(96540);const o={},r=t.createContext(o);function l(e){const n=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),t.createElement(r.Provider,{value:n},e.children)}},65319:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>s,contentTitle:()=>a,default:()=>d,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"native/ios/uikit/navigationcontroller","title":"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1","description":"\u573a\u666f\u8bf4\u660e","source":"@site/docs/native/ios/uikit/navigationcontroller.md","sourceDirName":"native/ios/uikit","slug":"/native/ios/uikit/navigationcontroller","permalink":"/yiwen-blog-website/en/docs/native/ios/uikit/navigationcontroller","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/native/ios/uikit/navigationcontroller.md","tags":[],"version":"current","frontMatter":{},"sidebar":"nativeSidebar","previous":{"title":"UIKit\u5e38\u7528\u5e03\u5c40","permalink":"/yiwen-blog-website/en/docs/native/ios/uikit/layout"},"next":{"title":"\u4ece\u4efb\u4f55\u5730\u65b9\u83b7\u53d6UIKit\u4e2dnavigationController\u7684\u529e\u6cd5","permalink":"/yiwen-blog-website/en/docs/native/ios/uikit/root_navigation"}}');var o=i(74848),r=i(28453);const l={},a="\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1",s={},c=[{value:"\u573a\u666f\u8bf4\u660e",id:"\u573a\u666f\u8bf4\u660e",level:2},{value:"\u6587\u6863",id:"\u6587\u6863",level:2},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1",children:"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1"})}),"\n",(0,o.jsx)(n.h2,{id:"\u573a\u666f\u8bf4\u660e",children:"\u573a\u666f\u8bf4\u660e"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u5728\u5f00\u53d1ios\u5e94\u7528\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u573a\u666f\u662f\u521b\u5efa\u4e00\u4e2astoryboard\uff0c\u7136\u540e\u4ece\u9996\u9875\u8df3\u8f6c\u8fc7\u53bb\uff0c\u6211\u7684\u505a\u6cd5\u662fswiftui\u5916\u5c42\u5305\u4e00\u4e2aviewcontroller\uff0c\u7136\u540e\u4f7f\u7528storyboard refrence\u653e\u5728\u5b50\u6a21\u5757\u4e2d\u3002"}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"\u56e0\u4e3aswftui\u6709\u81ea\u5df1\u7684\u5bfc\u822a\u6a21\u5f0f\uff0c\u6240\u4ee5\u6211\u5e0c\u671b\u5728\u5bfc\u822a\u5230swiftui\u7684\u65f6\u5019\uff0c\u5bfc\u822a\u680f\u9690\u85cf\uff0c\u7136\u540e\u5de6\u6ed1\u8fd4\u56de\u53c8\u80fd\u51fa\u73b0\u3002\uff08\u672c\u6765\u4ee5\u4e3a\u53ea\u662f\u7b80\u5355\u7684\u8bbe\u7f6enavigationbar\u9690\u85cf\u548c\u663e\u793a\uff09"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u6587\u6863",children:"\u6587\u6863"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"https://stackoverflow.com/questions/24710258/no-swipe-back-when-hiding-navigation-bar-in-uinavigationcontroller",children:"\u89e3\u51b3\u65b9\u6848"})}),"\n",(0,o.jsx)(n.h2,{id:"\u793a\u4f8b\u4ee3\u7801",children:"\u793a\u4f8b\u4ee3\u7801"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-swift",children:"// \u521b\u5efa\u65b0\u7684\u4ea4\u4e92\u624b\u52bf\u8bc6\u522b\u59d4\u6258\u5b9e\u4f8b\nimport UIKit\n\nclass InteractivePopRecognizer: NSObject, UIGestureRecognizerDelegate {\n\n    weak var navigationController: UINavigationController?\n\n    init(controller: UINavigationController) {\n        self.navigationController = controller\n    }\n\n    func gestureRecognizerShouldBegin(_ gestureRecognizer: UIGestureRecognizer) -> Bool {\n        return (navigationController?.viewControllers.count)! > 1\n    }\n\n    // \u5de6\u6ed1\u624b\u52bf\u8bc6\u522b\n    func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, shouldRecognizeSimultaneouslyWith otherGestureRecognizer: UIGestureRecognizer) -> Bool {\n        return true\n    }\n}\n\nimport UIKit\nimport SwiftUI\n\npublic class SwiftUIController: UIViewController, UIGestureRecognizerDelegate {\n    var popRecognizer: InteractivePopRecognizer?\n    \n    public override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let swiftSimpleView = SwiftSimpleView()\n        let hostingController = UIHostingController(rootView: swiftSimpleView)\n        addChild(hostingController)\n        hostingController.view.frame = view.bounds\n        view.addSubview(hostingController.view)\n        hostingController.didMove(toParent: self)\n    }\n    \n    public override func viewWillAppear(_ animated: Bool) {\n        super.viewWillAppear(animated)\n        setInteractiveRecognizer()\n    }\n    \n    private func setInteractiveRecognizer() {\n        guard let controller = navigationController else { return }\n        popRecognizer = InteractivePopRecognizer(controller: controller)\n        // \u5c06\u5f53\u524dcontroller\u7684\u59d4\u6258\u8d4b\u503c\u4e3a\u65b0\u5efa\u7684\u59d4\u6258 \u76f4\u63a5\u8d4b\u503c\u4e3anil\u4f1a\u5bfc\u81f4\u610f\u5916\u60c5\u51b5\u53d1\u751f\n        controller.interactivePopGestureRecognizer?.delegate = popRecognizer\n        self.navigationController?.setNavigationBarHidden(true, animated: false)\n    }\n    \n    public override func viewWillDisappear(_ animated: Bool) {\n        super.viewWillDisappear(animated)\n        // \u5c06\u5f53\u524dcontroller\u7684\u59d4\u6258\u91cd\u7f6e\u4e3a\u539f\u6765\u7684\u59d4\u6258\n        self.navigationController?.interactivePopGestureRecognizer?.delegate = self\n        self.navigationController?.setNavigationBarHidden(false, animated: false)\n    }\n    \n}\n"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}}}]);