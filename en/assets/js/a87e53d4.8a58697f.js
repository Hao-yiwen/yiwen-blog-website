"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[88e3],{2957:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>s,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"native/android/upload_aar_githubpackages","title":"\u4ecegithubpackages\u4e0a\u4f20\u6216\u4e0b\u8f7daar","description":"\u80cc\u666f","source":"@site/docs/native/android/upload_aar_githubpackages.md","sourceDirName":"native/android","slug":"/native/android/upload_aar_githubpackages","permalink":"/yiwen-blog-website/en/docs/native/android/upload_aar_githubpackages","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/native/android/upload_aar_githubpackages.md","tags":[],"version":"current","frontMatter":{},"sidebar":"nativeSidebar","previous":{"title":"\u8bb0\u5f55\u4e00\u4e2a\u5728jetbrains\u4e2d\u8fd8\u7528\u7684\u63d2\u4ef6","permalink":"/yiwen-blog-website/en/docs/native/android/translate"},"next":{"title":"ViewGroup\u3001View \u548c Window","permalink":"/yiwen-blog-website/en/docs/native/android/viewgroup_view_window"}}');var r=a(74848),i=a(28453);const s={},o="\u4ecegithubpackages\u4e0a\u4f20\u6216\u4e0b\u8f7daar",d={},c=[{value:"\u80cc\u666f",id:"\u80cc\u666f",level:2},{value:"\u6587\u6863",id:"\u6587\u6863",level:2},{value:"\u4e0a\u4f20\u65f6build.gradle.kts\u914d\u7f6e",id:"\u4e0a\u4f20\u65f6buildgradlekts\u914d\u7f6e",level:2},{value:"\u914d\u7f6e\u4ed3\u5e93\u6e90",id:"\u914d\u7f6e\u4ed3\u5e93\u6e90",level:2}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"\u4ecegithubpackages\u4e0a\u4f20\u6216\u4e0b\u8f7daar",children:"\u4ecegithubpackages\u4e0a\u4f20\u6216\u4e0b\u8f7daar"})}),"\n",(0,r.jsx)(n.h2,{id:"\u80cc\u666f",children:"\u80cc\u666f"}),"\n",(0,r.jsx)(n.p,{children:"\u4eca\u5929\u665a\u4e0a\u672c\u6765\u60f3\u6d4b\u8bd5\u4e00\u4e0b\u5982\u4f55\u5c06aar\u5305\u4e0a\u4f20\u5230maven center\u548c\u4ecemaven center\u62c9\u53d6\u81ea\u5df1\u7684aar\u3002\u4f46\u662f\u5728\u770b\u8fc7\u4e86maven center\u590d\u6742\u7684\u5305\u8981\u6c42\u540e(\u5c24\u5176\u662fgpcg\u914d\u7f6e\u540e)\uff0c\u6211\u679c\u65ad\u653e\u5f03\u4e86\u5728maven center\u4e0a\u4f20\u4ee3\u7801\uff0c\u6211\u9009\u62e9githubpackages\u4f5c\u4e3a\u6211\u7684\u7b2c\u4e00\u4e2aaar\u5305\u4e0a\u4f20\u6258\u7ba1\u4ed3\u5e93\u3002"}),"\n",(0,r.jsx)(n.h2,{id:"\u6587\u6863",children:"\u6587\u6863"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://docs.github.com/zh/packages/working-with-a-github-packages-registry/working-with-the-gradle-registry",children:"githubpackages"})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.a,{href:"https://central.sonatype.org/publish/requirements/#by-code-hosting-services",children:"maven center"})}),"\n",(0,r.jsx)(n.h2,{id:"\u4e0a\u4f20\u65f6buildgradlekts\u914d\u7f6e",children:"\u4e0a\u4f20\u65f6build.gradle.kts\u914d\u7f6e"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kt",children:"publishing {\n    publications {\n        mavenJava(MavenPublication) {\n            groupId = 'com.example'\n            artifactId = 'chapter03'\n            version = '0.0.1'\n\n            // \u5728 Groovy \u4e2d\u8bbe\u7f6e artifact \u7684\u65b9\u5f0f\n            artifact \"$buildDir/outputs/aar/chapter03-release.aar\"\n        }\n    }\n    repositories {\n        maven {\n            name = 'GitHubPackages'\n            url = uri('https://maven.pkg.github.com/Hao-yiwen/android-study')\n\n            credentials {\n                username = project.findProperty('gpr.user') ?: System.getenv('USERNAME')\n                password = project.findProperty('gpr.key') ?: System.getenv('TOKEN')\n            }\n        }\n    }\n}\n"})}),"\n",(0,r.jsx)(n.p,{children:"\u6267\u884c\u547d\u4ee4\u5982\u4e0b"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# \u5148\u6253\u5305release aar\u5305\n./gradlew assembleRelease\n\n# \u4e0a\u4f20aar\u5305\n./gradlew publish\n"})}),"\n",(0,r.jsx)(n.h2,{id:"\u914d\u7f6e\u4ed3\u5e93\u6e90",children:"\u914d\u7f6e\u4ed3\u5e93\u6e90"}),"\n",(0,r.jsx)(n.admonition,{type:"danger",children:(0,r.jsxs)(n.p,{children:["\u5728\u4ecegithubpackages\u4e2d\u62c9\u53d6aar\u5305\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u5c0f\u63d2\u66f2\uff0c\u6211\u4e00\u76f4\u914d\u7f6e\u7684\u662f",(0,r.jsx)(n.code,{children:"pluginManagement"}),"\uff0c\u4ece\u800c\u59cb\u7ec8\u65e0\u6cd5\u6b63\u786e\u62c9\u53d6aar\u5305\uff0c\u540e\u9762\u53d1\u73b0\u662f\u8981\u914d\u7f6e\u4e0b\u9762\u7684",(0,r.jsx)(n.code,{children:"dependencyResolutionManagement"}),"(\u4ecegradle6.8\u5f00\u59cb\u90fd\u8981\u5728settings.gradle.kts\u914d\u7f6e)"]})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kt",children:'// \u914d\u7f6e\u8fd9\u4e2a\u4e0d\u751f\u6548\uff0c\u8fd9\u4e2a\u662f\u7528\u6765\u89e3\u6790\u63d2\u4ef6\u7684\npluginManagement {\n    repositories {\n        google {\n            content {\n                includeGroupByRegex("com\\\\.android.*")\n                includeGroupByRegex("com\\\\.google.*")\n                includeGroupByRegex("androidx.*")\n            }\n        }\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\n\n// \u914d\u7f6e\u8fd9\u4e2a\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        maven {\n            url = uri("https://maven.pkg.github.com/Hao-yiwen/android-study")\n            credentials {\n                username = System.getenv("USERNAME") ?: ""\n                password = System.getenv("TOKEN") ?: ""\n            }\n            content {\n                includeGroupByRegex("com\\\\.example.*")\n            }\n        }\n        google()\n        mavenCentral()\n    }\n}\n'})})]})}function g(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},28453:(e,n,a)=>{a.d(n,{R:()=>s,x:()=>o});var t=a(96540);const r={},i=t.createContext(r);function s(e){const n=t.useContext(i);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);