"use strict";(self.webpackChunkyiwen_blog_website=self.webpackChunkyiwen_blog_website||[]).push([[9383],{3905:(e,n,t)=>{t.d(n,{Zo:()=>u,kt:()=>d});var r=t(67294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var c=r.createContext({}),s=function(e){var n=r.useContext(c),t=n;return e&&(t="function"==typeof e?e(n):a(a({},n),e)),t},u=function(e){var n=s(e.components);return r.createElement(c.Provider,{value:n},e.children)},p="mdxType",v={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},g=r.forwardRef((function(e,n){var t=e.components,i=e.mdxType,o=e.originalType,c=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),p=s(t),g=i,d=p["".concat(c,".").concat(g)]||p[g]||v[g]||o;return t?r.createElement(d,a(a({ref:n},u),{},{components:t})):r.createElement(d,a({ref:n},u))}));function d(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var o=t.length,a=new Array(o);a[0]=g;var l={};for(var c in n)hasOwnProperty.call(n,c)&&(l[c]=n[c]);l.originalType=e,l[p]="string"==typeof e?e:i,a[1]=l;for(var s=2;s<o;s++)a[s]=t[s];return r.createElement.apply(null,a)}return r.createElement.apply(null,t)}g.displayName="MDXCreateElement"},33909:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>v,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var r=t(87462),i=(t(67294),t(3905));const o={},a="\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1",l={unversionedId:"native/ios/uikit/navigationcontroller",id:"native/ios/uikit/navigationcontroller",title:"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1",description:"\u573a\u666f\u8bf4\u660e",source:"@site/docs/native/ios/uikit/navigationcontroller.md",sourceDirName:"native/ios/uikit",slug:"/native/ios/uikit/navigationcontroller",permalink:"/yiwen-blog-website/en/docs/native/ios/uikit/navigationcontroller",draft:!1,editUrl:"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/native/ios/uikit/navigationcontroller.md",tags:[],version:"current",frontMatter:{},sidebar:"nativeSidebar",previous:{title:"UIKit\u5e38\u7528\u5e03\u5c40",permalink:"/yiwen-blog-website/en/docs/native/ios/uikit/layout"},next:{title:"Storyboard",permalink:"/yiwen-blog-website/en/docs/native/ios/uikit/storyboard"}},c={},s=[{value:"\u573a\u666f\u8bf4\u660e",id:"\u573a\u666f\u8bf4\u660e",level:2},{value:"\u6587\u6863",id:"\u6587\u6863",level:2},{value:"\u793a\u4f8b\u4ee3\u7801",id:"\u793a\u4f8b\u4ee3\u7801",level:2}],u={toc:s},p="wrapper";function v(e){let{components:n,...t}=e;return(0,i.kt)(p,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1"},"\u4f7f\u7528navigation\u5bfc\u822a\u65f6\u6ca1\u6709\u5bfc\u822a\u5934\u4f46\u662f\u80fd\u5de6\u6ed1"),(0,i.kt)("h2",{id:"\u573a\u666f\u8bf4\u660e"},"\u573a\u666f\u8bf4\u660e"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u5728\u5f00\u53d1ios\u5e94\u7528\u7684\u65f6\u5019\u6709\u4e00\u4e2a\u573a\u666f\u662f\u521b\u5efa\u4e00\u4e2astoryboard\uff0c\u7136\u540e\u4ece\u9996\u9875\u8df3\u8f6c\u8fc7\u53bb\uff0c\u6211\u7684\u505a\u6cd5\u662fswiftui\u5916\u5c42\u5305\u4e00\u4e2aviewcontroller\uff0c\u7136\u540e\u4f7f\u7528storyboard refrence\u653e\u5728\u5b50\u6a21\u5757\u4e2d\u3002")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"\u56e0\u4e3aswftui\u6709\u81ea\u5df1\u7684\u5bfc\u822a\u6a21\u5f0f\uff0c\u6240\u4ee5\u6211\u5e0c\u671b\u5728\u5bfc\u822a\u5230swiftui\u7684\u65f6\u5019\uff0c\u5bfc\u822a\u680f\u9690\u85cf\uff0c\u7136\u540e\u5de6\u6ed1\u8fd4\u56de\u53c8\u80fd\u51fa\u73b0\u3002\uff08\u672c\u6765\u4ee5\u4e3a\u53ea\u662f\u7b80\u5355\u7684\u8bbe\u7f6enavigationbar\u9690\u85cf\u548c\u663e\u793a\uff09"))),(0,i.kt)("h2",{id:"\u6587\u6863"},"\u6587\u6863"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://stackoverflow.com/questions/24710258/no-swipe-back-when-hiding-navigation-bar-in-uinavigationcontroller"},"\u89e3\u51b3\u65b9\u6848")),(0,i.kt)("h2",{id:"\u793a\u4f8b\u4ee3\u7801"},"\u793a\u4f8b\u4ee3\u7801"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-swift"},"// \u521b\u5efa\u65b0\u7684\u4ea4\u4e92\u624b\u52bf\u8bc6\u522b\u59d4\u6258\u5b9e\u4f8b\nimport UIKit\n\nclass InteractivePopRecognizer: NSObject, UIGestureRecognizerDelegate {\n\n    weak var navigationController: UINavigationController?\n\n    init(controller: UINavigationController) {\n        self.navigationController = controller\n    }\n\n    func gestureRecognizerShouldBegin(_ gestureRecognizer: UIGestureRecognizer) -> Bool {\n        return (navigationController?.viewControllers.count)! > 1\n    }\n\n    // \u5de6\u6ed1\u624b\u52bf\u8bc6\u522b\n    func gestureRecognizer(_ gestureRecognizer: UIGestureRecognizer, shouldRecognizeSimultaneouslyWith otherGestureRecognizer: UIGestureRecognizer) -> Bool {\n        return true\n    }\n}\n\nimport UIKit\nimport SwiftUI\n\npublic class SwiftUIController: UIViewController, UIGestureRecognizerDelegate {\n    var popRecognizer: InteractivePopRecognizer?\n    \n    public override func viewDidLoad() {\n        super.viewDidLoad()\n        \n        let swiftSimpleView = SwiftSimpleView()\n        let hostingController = UIHostingController(rootView: swiftSimpleView)\n        addChild(hostingController)\n        hostingController.view.frame = view.bounds\n        view.addSubview(hostingController.view)\n        hostingController.didMove(toParent: self)\n    }\n    \n    public override func viewWillAppear(_ animated: Bool) {\n        super.viewWillAppear(animated)\n        setInteractiveRecognizer()\n    }\n    \n    private func setInteractiveRecognizer() {\n        guard let controller = navigationController else { return }\n        popRecognizer = InteractivePopRecognizer(controller: controller)\n        // \u5c06\u5f53\u524dcontroller\u7684\u59d4\u6258\u8d4b\u503c\u4e3a\u65b0\u5efa\u7684\u59d4\u6258 \u76f4\u63a5\u8d4b\u503c\u4e3anil\u4f1a\u5bfc\u81f4\u610f\u5916\u60c5\u51b5\u53d1\u751f\n        controller.interactivePopGestureRecognizer?.delegate = popRecognizer\n        self.navigationController?.setNavigationBarHidden(true, animated: false)\n    }\n    \n    public override func viewWillDisappear(_ animated: Bool) {\n        super.viewWillDisappear(animated)\n        // \u5c06\u5f53\u524dcontroller\u7684\u59d4\u6258\u91cd\u7f6e\u4e3a\u539f\u6765\u7684\u59d4\u6258\n        self.navigationController?.interactivePopGestureRecognizer?.delegate = self\n        self.navigationController?.setNavigationBarHidden(false, animated: false)\n    }\n    \n}\n")))}v.isMDXComponent=!0}}]);