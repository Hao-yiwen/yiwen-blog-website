"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[20743],{22940:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>r,contentTitle:()=>d,default:()=>o,frontMatter:()=>t,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"ai/python/optional_pip","title":"Python pip \u4e2d\u62ec\u53f7\u8bed\u6cd5\u8be6\u89e3","description":"\u4e2d\u62ec\u53f7\u7684\u542b\u4e49","source":"@site/docs/ai/python/optional_pip.md","sourceDirName":"ai/python","slug":"/ai/python/optional_pip","permalink":"/yiwen-blog-website/docs/ai/python/optional_pip","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/ai/python/optional_pip.md","tags":[],"version":"current","lastUpdatedAt":1765121389000,"frontMatter":{"title":"Python pip \u4e2d\u62ec\u53f7\u8bed\u6cd5\u8be6\u89e3","sidebar_label":"pip \u53ef\u9009\u4f9d\u8d56 [extras]"},"sidebar":"aiSidebar","previous":{"title":"%matplotlib inline","permalink":"/yiwen-blog-website/docs/ai/python/matplotlib_inline"},"next":{"title":"Pandas \u901f\u67e5\u624b\u518c","permalink":"/yiwen-blog-website/docs/ai/python/pandas-cheatsheet"}}');var i=a(74848),l=a(28453);const t={title:"Python pip \u4e2d\u62ec\u53f7\u8bed\u6cd5\u8be6\u89e3",sidebar_label:"pip \u53ef\u9009\u4f9d\u8d56 [extras]"},d=void 0,r={},p=[{value:"\u4e2d\u62ec\u53f7\u7684\u542b\u4e49",id:"\u4e2d\u62ec\u53f7\u7684\u542b\u4e49",level:2},{value:"\u5de5\u4f5c\u539f\u7406",id:"\u5de5\u4f5c\u539f\u7406",level:2},{value:"\u5728 <code>pyproject.toml</code> \u4e2d\u5b9a\u4e49",id:"\u5728-pyprojecttoml-\u4e2d\u5b9a\u4e49",level:3},{value:"\u5b89\u88c5\u6548\u679c\u5bf9\u6bd4",id:"\u5b89\u88c5\u6548\u679c\u5bf9\u6bd4",level:2},{value:"\u5e38\u89c1\u7684 extras \u4f8b\u5b50",id:"\u5e38\u89c1\u7684-extras-\u4f8b\u5b50",level:2},{value:"FastAPI",id:"fastapi",level:3},{value:"Uvicorn",id:"uvicorn",level:3},{value:"SQLAlchemy",id:"sqlalchemy",level:3},{value:"Requests",id:"requests",level:3},{value:"Pandas",id:"pandas",level:3},{value:"\u5b9e\u9645\u4f8b\u5b50",id:"\u5b9e\u9645\u4f8b\u5b50",level:2},{value:"\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8bbe\u8ba1\uff1f",id:"\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8bbe\u8ba1",level:2},{value:"1. <strong>\u6309\u9700\u5b89\u88c5</strong>",id:"1-\u6309\u9700\u5b89\u88c5",level:3},{value:"2. <strong>\u907f\u514d\u4f9d\u8d56\u51b2\u7a81</strong>",id:"2-\u907f\u514d\u4f9d\u8d56\u51b2\u7a81",level:3},{value:"3. <strong>\u51cf\u5c11\u5305\u4f53\u79ef</strong>",id:"3-\u51cf\u5c11\u5305\u4f53\u79ef",level:3},{value:"\u67e5\u770b\u4e00\u4e2a\u5305\u6709\u54ea\u4e9b extras",id:"\u67e5\u770b\u4e00\u4e2a\u5305\u6709\u54ea\u4e9b-extras",level:2},{value:"\u5728\u4f60\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u5b9a\u4e49 extras",id:"\u5728\u4f60\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u5b9a\u4e49-extras",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function c(n){const e={code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"\u4e2d\u62ec\u53f7\u7684\u542b\u4e49",children:"\u4e2d\u62ec\u53f7\u7684\u542b\u4e49"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pip install fastapi[standard]\n#               \u5305\u540d [\u53ef\u9009\u4f9d\u8d56\u7ec4\u540d]\n"})}),"\n",(0,i.jsxs)(e.p,{children:["\u8fd9\u8868\u793a\uff1a\u5b89\u88c5 ",(0,i.jsx)(e.code,{children:"fastapi"})," ",(0,i.jsx)(e.strong,{children:"\u5e76\u4e14"}),"\u5b89\u88c5\u540d\u4e3a ",(0,i.jsx)(e.code,{children:"standard"})," \u7684\u53ef\u9009\u4f9d\u8d56\u7ec4\u3002"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5de5\u4f5c\u539f\u7406",children:"\u5de5\u4f5c\u539f\u7406"}),"\n",(0,i.jsxs)(e.h3,{id:"\u5728-pyprojecttoml-\u4e2d\u5b9a\u4e49",children:["\u5728 ",(0,i.jsx)(e.code,{children:"pyproject.toml"})," \u4e2d\u5b9a\u4e49"]}),"\n",(0,i.jsx)(e.p,{children:"FastAPI \u7684\u914d\u7f6e\u6587\u4ef6\u5927\u6982\u662f\u8fd9\u6837\u7684\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-toml",children:'[project]\nname = "fastapi"\ndependencies = [\n    "starlette>=0.27.0",\n    "pydantic>=1.7.4",\n    "typing-extensions>=4.8.0"\n]\n\n[project.optional-dependencies]\n# \u57fa\u7840\u4f9d\u8d56 - \u53ea\u6709\u6838\u5fc3\u529f\u80fd\nstandard = [\n    "uvicorn[standard]>=0.12.0",\n    "pydantic-settings>=2.0.0",\n    "python-multipart>=0.0.5",\n    "email-validator>=2.0.0",\n    "httpx>=0.23.0",\n    "jinja2>=2.11.2",\n]\n\n# \u6240\u6709\u4f9d\u8d56\nall = [\n    "uvicorn[standard]",\n    "pydantic-settings",\n    "python-multipart",\n    "email-validator",\n    "httpx",\n    "jinja2",\n    "itsdangerous",\n    "pyyaml",\n    "ujson",\n    "orjson",\n]\n\n# \u5f00\u53d1\u4f9d\u8d56\ndev = [\n    "pytest>=7.1.3",\n    "mypy==1.4.1",\n    "ruff==0.0.292",\n]\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u5b89\u88c5\u6548\u679c\u5bf9\u6bd4",children:"\u5b89\u88c5\u6548\u679c\u5bf9\u6bd4"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# 1. \u53ea\u88c5\u6838\u5fc3\uff08\u6700\u5c0f\u4f9d\u8d56\uff09\npip install fastapi\n# \u53ea\u88c5\uff1afastapi + starlette + pydantic\n\n# 2. \u88c5\u6807\u51c6\u7248\uff08\u63a8\u8350\uff09\npip install fastapi[standard]\n# \u88c5\uff1afastapi + starlette + pydantic + uvicorn + \u5176\u4ed6\u5e38\u7528\u5de5\u5177\n\n# 3. \u88c5\u5b8c\u6574\u7248\npip install fastapi[all]\n# \u88c5\uff1a\u6240\u6709\u53ef\u9009\u529f\u80fd\n\n# 4. \u88c5\u591a\u4e2a extras\npip install fastapi[standard,dev]\n# \u88c5\uff1a\u6807\u51c6\u7248 + \u5f00\u53d1\u5de5\u5177\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5e38\u89c1\u7684-extras-\u4f8b\u5b50",children:"\u5e38\u89c1\u7684 extras \u4f8b\u5b50"}),"\n",(0,i.jsx)(e.h3,{id:"fastapi",children:"FastAPI"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"fastapi[standard]  # \u751f\u4ea7\u73af\u5883\u63a8\u8350\nfastapi[all]       # \u6240\u6709\u529f\u80fd\n"})}),"\n",(0,i.jsx)(e.h3,{id:"uvicorn",children:"Uvicorn"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"uvicorn            # \u57fa\u7840\u7248\uff0c\u6027\u80fd\u4e00\u822c\nuvicorn[standard]  # \u6807\u51c6\u7248\uff0c\u5305\u542b\u6027\u80fd\u4f18\u5316\n#   \u2193 \u5305\u542b\uff1a\n#   - uvloop (\u66f4\u5feb\u7684\u4e8b\u4ef6\u5faa\u73af)\n#   - httptools (\u66f4\u5feb\u7684 HTTP \u89e3\u6790)\n#   - websockets (WebSocket \u652f\u6301)\n"})}),"\n",(0,i.jsx)(e.h3,{id:"sqlalchemy",children:"SQLAlchemy"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"sqlalchemy                    # \u6838\u5fc3\nsqlalchemy[asyncio]          # \u5f02\u6b65\u652f\u6301\nsqlalchemy[postgresql]       # PostgreSQL \u9a71\u52a8\nsqlalchemy[mysql]            # MySQL \u9a71\u52a8\nsqlalchemy[asyncio,postgresql]  # \u591a\u4e2a extras\n"})}),"\n",(0,i.jsx)(e.h3,{id:"requests",children:"Requests"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"requests              # \u57fa\u7840 HTTP \u5e93\nrequests[security]    # \u6dfb\u52a0\u5b89\u5168\u529f\u80fd\nrequests[socks]       # SOCKS \u4ee3\u7406\u652f\u6301\n"})}),"\n",(0,i.jsx)(e.h3,{id:"pandas",children:"Pandas"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"pandas                # \u6838\u5fc3\u529f\u80fd\npandas[performance]   # \u6027\u80fd\u4f18\u5316\uff08numexpr, bottleneck\uff09\npandas[plot]          # \u7ed8\u56fe\u529f\u80fd\uff08matplotlib\uff09\npandas[excel]         # Excel \u652f\u6301\uff08openpyxl\uff09\npandas[all]           # \u6240\u6709\u529f\u80fd\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5b9e\u9645\u4f8b\u5b50",children:"\u5b9e\u9645\u4f8b\u5b50"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u521b\u5efa\u4e00\u4e2a\u5b8c\u6574\u7684 FastAPI \u9879\u76ee\nuv add "fastapi[standard]"\n\n# \u76f8\u5f53\u4e8e\u624b\u52a8\u5b89\u88c5\uff1a\nuv add fastapi\nuv add "uvicorn[standard]"\nuv add pydantic-settings\nuv add python-multipart\nuv add email-validator\nuv add httpx\nuv add jinja2\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8bbe\u8ba1",children:"\u4e3a\u4ec0\u4e48\u8981\u8fd9\u6837\u8bbe\u8ba1\uff1f"}),"\n",(0,i.jsxs)(e.h3,{id:"1-\u6309\u9700\u5b89\u88c5",children:["1. ",(0,i.jsx)(e.strong,{children:"\u6309\u9700\u5b89\u88c5"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"# \u573a\u666f 1\uff1a\u53ea\u9700\u8981 FastAPI \u6846\u67b6\uff08\u5982\u7528\u4e8e\u7c7b\u578b\u68c0\u67e5\uff09\npip install fastapi  # \u8f7b\u91cf\u7ea7\uff0c\u51e0\u79d2\u88c5\u5b8c\n\n# \u573a\u666f 2\uff1a\u751f\u4ea7\u73af\u5883\npip install fastapi[standard]  # \u5305\u542b\u6240\u6709\u5e38\u7528\u5de5\u5177\n\n# \u573a\u666f 3\uff1a\u5f00\u53d1\u73af\u5883\npip install fastapi[standard,dev]  # \u989d\u5916\u5305\u542b\u6d4b\u8bd5\u5de5\u5177\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"2-\u907f\u514d\u4f9d\u8d56\u51b2\u7a81",children:["2. ",(0,i.jsx)(e.strong,{children:"\u907f\u514d\u4f9d\u8d56\u51b2\u7a81"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u5982\u679c\u4f60\u5df2\u7ecf\u6709\u7279\u5b9a\u7248\u672c\u7684 uvicorn\npip install uvicorn==0.20.0\npip install fastapi  # \u4e0d\u4f1a\u8986\u76d6\u4f60\u7684 uvicorn\n\n# \u4f46\u5982\u679c\u4f60\u7528 [standard]\npip install fastapi[standard]  # \u53ef\u80fd\u5347\u7ea7\u4f60\u7684 uvicorn\n"})}),"\n",(0,i.jsxs)(e.h3,{id:"3-\u51cf\u5c11\u5305\u4f53\u79ef",children:["3. ",(0,i.jsx)(e.strong,{children:"\u51cf\u5c11\u5305\u4f53\u79ef"})]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"fastapi \u6838\u5fc3\uff1a       ~500 KB\nfastapi[standard]\uff1a  ~5 MB\nfastapi[all]\uff1a       ~20 MB\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u67e5\u770b\u4e00\u4e2a\u5305\u6709\u54ea\u4e9b-extras",children:"\u67e5\u770b\u4e00\u4e2a\u5305\u6709\u54ea\u4e9b extras"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u65b9\u6cd5 1\uff1a\u67e5\u770b PyPI \u9875\u9762\nhttps://pypi.org/project/fastapi/\n\n# \u65b9\u6cd5 2\uff1a\u67e5\u770b\u5305\u7684 pyproject.toml\npip download --no-deps fastapi\ntar -xzf fastapi-*.tar.gz\ncat fastapi-*/pyproject.toml\n\n# \u65b9\u6cd5 3\uff1a\u7528 pip show\uff08\u4e0d\u592a\u8be6\u7ec6\uff09\npip show fastapi\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5728\u4f60\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u5b9a\u4e49-extras",children:"\u5728\u4f60\u81ea\u5df1\u7684\u9879\u76ee\u4e2d\u5b9a\u4e49 extras"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-toml",children:'# pyproject.toml\n[project]\nname = "my-awesome-app"\ndependencies = [\n    "fastapi",\n]\n\n[project.optional-dependencies]\n# \u5f00\u53d1\u73af\u5883\ndev = [\n    "pytest",\n    "black",\n    "mypy",\n]\n\n# \u751f\u4ea7\u73af\u5883\nprod = [\n    "uvicorn[standard]",\n    "gunicorn",\n]\n\n# \u6570\u636e\u5e93\npostgres = [\n    "psycopg2-binary",\n    "sqlalchemy[asyncio]",\n]\n\nmysql = [\n    "pymysql",\n    "sqlalchemy[asyncio]",\n]\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u7136\u540e\u5b89\u88c5\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u5f00\u53d1\npip install -e ".[dev]"\n\n# \u751f\u4ea7 + PostgreSQL\npip install ".[prod,postgres]"\n'})}),"\n",(0,i.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsxs)(e.strong,{children:["\u4e2d\u62ec\u53f7 ",(0,i.jsx)(e.code,{children:"[]"})," = \u53ef\u9009\u4f9d\u8d56\u7ec4"]})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"\u5305\u540d[extras\u540d\u79f0]\n  \u2193     \u2193\nfastapi[standard]\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u4f5c\u7528"}),"\uff1a"]}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"\u2705 \u6309\u9700\u5b89\u88c5\uff0c\u4e0d\u6d6a\u8d39\u7a7a\u95f4"}),"\n",(0,i.jsx)(e.li,{children:"\u2705 \u907f\u514d\u4f9d\u8d56\u51b2\u7a81"}),"\n",(0,i.jsx)(e.li,{children:"\u2705 \u6e05\u6670\u6807\u8bb0\u529f\u80fd\u6a21\u5757"}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"\u6700\u4f73\u5b9e\u8df5"}),"\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:'# \u65e5\u5e38\u5f00\u53d1\nuv add "fastapi[standard]"\n\n# \u5982\u679c\u4e0d\u786e\u5b9a\u9700\u8981\u4ec0\u4e48\nuv add fastapi  # \u5148\u88c5\u6700\u5c0f\u7248\u672c\n# \u9700\u8981\u4ec0\u4e48\u529f\u80fd\u518d\u52a0\n'})})]})}function o(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c(n)}},28453:(n,e,a)=>{a.d(e,{R:()=>t,x:()=>d});var s=a(96540);const i={},l=s.createContext(i);function t(n){const e=s.useContext(l);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(l.Provider,{value:e},n.children)}}}]);