"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[82289],{28453:(n,e,r)=>{r.d(e,{R:()=>t,x:()=>d});var s=r(96540);const i={},l=s.createContext(i);function t(n){const e=s.useContext(l);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function d(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:t(n.components),s.createElement(l.Provider,{value:e},n.children)}},79916:(n,e,r)=>{r.r(e),r.d(e,{assets:()=>c,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ai/python/decorarors","title":"Python \u88c5\u9970\u5668\u7b80\u4ecb","description":"\u4ec0\u4e48\u662f\u88c5\u9970\u5668\uff1f","source":"@site/docs/ai/python/decorarors.md","sourceDirName":"ai/python","slug":"/ai/python/decorarors","permalink":"/yiwen-blog-website/docs/ai/python/decorarors","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/ai/python/decorarors.md","tags":[],"version":"current","frontMatter":{},"sidebar":"aiSidebar","previous":{"title":"Conda \u5e38\u7528\u547d\u4ee4\uff08\u7b80\u5316\u7248\uff09","permalink":"/yiwen-blog-website/docs/ai/python/conda"},"next":{"title":"FastAPI \u5165\u95e8\u6307\u5357","permalink":"/yiwen-blog-website/docs/ai/python/fastapi"}}');var i=r(74848),l=r(28453);const t={},d="Python \u88c5\u9970\u5668\u7b80\u4ecb",c={},o=[{value:"\u4ec0\u4e48\u662f\u88c5\u9970\u5668\uff1f",id:"\u4ec0\u4e48\u662f\u88c5\u9970\u5668",level:2},{value:"\u57fa\u672c\u8bed\u6cd5",id:"\u57fa\u672c\u8bed\u6cd5",level:2},{value:"\u7b80\u5355\u793a\u4f8b",id:"\u7b80\u5355\u793a\u4f8b",level:2},{value:"1. \u57fa\u7840\u88c5\u9970\u5668",id:"1-\u57fa\u7840\u88c5\u9970\u5668",level:3},{value:"2. \u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",id:"2-\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",level:3},{value:"3. \u5b9e\u7528\u793a\u4f8b\uff1a\u8ba1\u65f6\u88c5\u9970\u5668",id:"3-\u5b9e\u7528\u793a\u4f8b\u8ba1\u65f6\u88c5\u9970\u5668",level:3},{value:"4. \u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",id:"4-\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",level:3},{value:"\u5e38\u89c1\u5e94\u7528\u573a\u666f",id:"\u5e38\u89c1\u5e94\u7528\u573a\u666f",level:2},{value:"\u5185\u7f6e\u88c5\u9970\u5668",id:"\u5185\u7f6e\u88c5\u9970\u5668",level:2},{value:"\u6700\u4f73\u5b9e\u8df5",id:"\u6700\u4f73\u5b9e\u8df5",level:2},{value:"\u603b\u7ed3",id:"\u603b\u7ed3",level:2}];function a(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.header,{children:(0,i.jsx)(e.h1,{id:"python-\u88c5\u9970\u5668\u7b80\u4ecb",children:"Python \u88c5\u9970\u5668\u7b80\u4ecb"})}),"\n",(0,i.jsx)(e.h2,{id:"\u4ec0\u4e48\u662f\u88c5\u9970\u5668",children:"\u4ec0\u4e48\u662f\u88c5\u9970\u5668\uff1f"}),"\n",(0,i.jsx)(e.p,{children:"\u88c5\u9970\u5668\uff08Decorator\uff09\u662f Python \u4e2d\u4e00\u79cd\u7279\u6b8a\u7684\u8bed\u6cd5\uff0c\u7528\u4e8e\u5728\u4e0d\u4fee\u6539\u539f\u51fd\u6570\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u51fd\u6570\u6dfb\u52a0\u989d\u5916\u7684\u529f\u80fd\u3002\u88c5\u9970\u5668\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5b83\u63a5\u6536\u4e00\u4e2a\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\uff0c\u5e76\u8fd4\u56de\u4e00\u4e2a\u65b0\u7684\u51fd\u6570\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"\u57fa\u672c\u8bed\u6cd5",children:"\u57fa\u672c\u8bed\u6cd5"}),"\n",(0,i.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"@"})," \u7b26\u53f7\u5c06\u88c5\u9970\u5668\u5e94\u7528\u5230\u51fd\u6570\u4e0a\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"@decorator\ndef function():\n    pass\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8fd9\u7b49\u4ef7\u4e8e\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"def function():\n    pass\nfunction = decorator(function)\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u7b80\u5355\u793a\u4f8b",children:"\u7b80\u5355\u793a\u4f8b"}),"\n",(0,i.jsx)(e.h3,{id:"1-\u57fa\u7840\u88c5\u9970\u5668",children:"1. \u57fa\u7840\u88c5\u9970\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def my_decorator(func):\n    def wrapper():\n        print("\u51fd\u6570\u6267\u884c\u524d")\n        func()\n        print("\u51fd\u6570\u6267\u884c\u540e")\n    return wrapper\n\n@my_decorator\ndef say_hello():\n    print("Hello!")\n\nsay_hello()\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8f93\u51fa\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u51fd\u6570\u6267\u884c\u524d\nHello!\n\u51fd\u6570\u6267\u884c\u540e\n"})}),"\n",(0,i.jsx)(e.h3,{id:"2-\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",children:"2. \u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def my_decorator(func):\n    def wrapper(*args, **kwargs):\n        print(f"\u8c03\u7528\u51fd\u6570: {func.__name__}")\n        result = func(*args, **kwargs)\n        print(f"\u51fd\u6570\u8fd4\u56de: {result}")\n        return result\n    return wrapper\n\n@my_decorator\ndef add(a, b):\n    return a + b\n\nadd(3, 5)\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8f93\u51fa\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u8c03\u7528\u51fd\u6570: add\n\u51fd\u6570\u8fd4\u56de: 8\n"})}),"\n",(0,i.jsx)(e.h3,{id:"3-\u5b9e\u7528\u793a\u4f8b\u8ba1\u65f6\u88c5\u9970\u5668",children:"3. \u5b9e\u7528\u793a\u4f8b\uff1a\u8ba1\u65f6\u88c5\u9970\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'import time\n\ndef timer(func):\n    def wrapper(*args, **kwargs):\n        start = time.time()\n        result = func(*args, **kwargs)\n        end = time.time()\n        print(f"{func.__name__} \u8017\u65f6: {end - start:.4f}\u79d2")\n        return result\n    return wrapper\n\n@timer\ndef slow_function():\n    time.sleep(1)\n    return "\u5b8c\u6210"\n\nslow_function()\n'})}),"\n",(0,i.jsx)(e.h3,{id:"4-\u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668",children:"4. \u5e26\u53c2\u6570\u7684\u88c5\u9970\u5668"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:'def repeat(times):\n    def decorator(func):\n        def wrapper(*args, **kwargs):\n            for _ in range(times):\n                result = func(*args, **kwargs)\n            return result\n        return wrapper\n    return decorator\n\n@repeat(3)\ndef greet(name):\n    print(f"\u4f60\u597d, {name}!")\n\ngreet("\u5c0f\u660e")\n'})}),"\n",(0,i.jsx)(e.p,{children:"\u8f93\u51fa\uff1a"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{children:"\u4f60\u597d, \u5c0f\u660e!\n\u4f60\u597d, \u5c0f\u660e!\n\u4f60\u597d, \u5c0f\u660e!\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u5e38\u89c1\u5e94\u7528\u573a\u666f",children:"\u5e38\u89c1\u5e94\u7528\u573a\u666f"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u65e5\u5fd7\u8bb0\u5f55"})," - \u8bb0\u5f55\u51fd\u6570\u7684\u8c03\u7528\u4fe1\u606f"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6027\u80fd\u6d4b\u8bd5"})," - \u6d4b\u91cf\u51fd\u6570\u6267\u884c\u65f6\u95f4"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u6743\u9650\u9a8c\u8bc1"})," - \u68c0\u67e5\u7528\u6237\u6743\u9650"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u7f13\u5b58"})," - \u7f13\u5b58\u51fd\u6570\u7ed3\u679c"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u91cd\u8bd5\u673a\u5236"})," - \u81ea\u52a8\u91cd\u8bd5\u5931\u8d25\u7684\u51fd\u6570"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"\u53c2\u6570\u9a8c\u8bc1"})," - \u9a8c\u8bc1\u51fd\u6570\u53c2\u6570"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u5185\u7f6e\u88c5\u9970\u5668",children:"\u5185\u7f6e\u88c5\u9970\u5668"}),"\n",(0,i.jsx)(e.p,{children:"Python \u63d0\u4f9b\u4e86\u4e00\u4e9b\u5e38\u7528\u7684\u5185\u7f6e\u88c5\u9970\u5668\uff1a"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"@staticmethod"})," - \u9759\u6001\u65b9\u6cd5"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"@classmethod"})," - \u7c7b\u65b9\u6cd5"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"@property"})," - \u5c06\u65b9\u6cd5\u8f6c\u6362\u4e3a\u5c5e\u6027"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.code,{children:"@functools.wraps"})," - \u4fdd\u7559\u539f\u51fd\u6570\u7684\u5143\u4fe1\u606f"]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"\u6700\u4f73\u5b9e\u8df5",children:"\u6700\u4f73\u5b9e\u8df5"}),"\n",(0,i.jsxs)(e.p,{children:["\u4f7f\u7528 ",(0,i.jsx)(e.code,{children:"functools.wraps"})," \u4fdd\u7559\u539f\u51fd\u6570\u7684\u5143\u4fe1\u606f\uff1a"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-python",children:"from functools import wraps\n\ndef my_decorator(func):\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        return func(*args, **kwargs)\n    return wrapper\n"})}),"\n",(0,i.jsx)(e.h2,{id:"\u603b\u7ed3",children:"\u603b\u7ed3"}),"\n",(0,i.jsx)(e.p,{children:"\u88c5\u9970\u5668\u662f Python \u4e2d\u5f3a\u5927\u4e14\u4f18\u96c5\u7684\u7279\u6027\uff0c\u5b83\u9075\u5faa\u5f00\u95ed\u539f\u5219\uff08\u5bf9\u6269\u5c55\u5f00\u653e\uff0c\u5bf9\u4fee\u6539\u5173\u95ed\uff09\uff0c\u8ba9\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u548c\u53ef\u7ef4\u62a4\u3002\u638c\u63e1\u88c5\u9970\u5668\u80fd\u591f\u5e2e\u52a9\u4f60\u5199\u51fa\u66f4\u52a0 Pythonic \u7684\u4ee3\u7801\u3002"})]})}function h(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(a,{...n})}):a(n)}}}]);