"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[99302],{6261(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"backend/go/reference-vs-value-types","title":"\u5f15\u7528\u7c7b\u578b vs \u503c\u7c7b\u578b\u901f\u67e5\u8868","description":"Go \u4e2d\u4f20\u9012\u53d8\u91cf\u65f6\uff0c\u6709\u4e9b\u7c7b\u578b\u4f1a\u590d\u5236\u5e95\u5c42\u6570\u636e\uff08\u503c\u7c7b\u578b\uff09\uff0c\u6709\u4e9b\u53ea\u590d\u5236\\"\u6307\u9488/\u5f15\u7528\\"\uff08\u5f15\u7528\u8bed\u4e49\u7c7b\u578b\uff09\u3002\u641e\u6e05\u695a\u8fd9\u4e00\u70b9\uff0c\u80fd\u907f\u514d\u5f88\u591a\u5751\u3002","source":"@site/docs/backend/go/reference-vs-value-types.md","sourceDirName":"backend/go","slug":"/backend/go/reference-vs-value-types","permalink":"/yiwen-blog-website/docs/backend/go/reference-vs-value-types","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/backend/go/reference-vs-value-types.md","tags":[{"inline":true,"label":"go","permalink":"/yiwen-blog-website/docs/tags/go"},{"inline":true,"label":"types","permalink":"/yiwen-blog-website/docs/tags/types"},{"inline":true,"label":"\u5f15\u7528\u7c7b\u578b","permalink":"/yiwen-blog-website/docs/tags/\u5f15\u7528\u7c7b\u578b"},{"inline":true,"label":"\u503c\u7c7b\u578b","permalink":"/yiwen-blog-website/docs/tags/\u503c\u7c7b\u578b"},{"inline":true,"label":"map","permalink":"/yiwen-blog-website/docs/tags/map"},{"inline":true,"label":"slice","permalink":"/yiwen-blog-website/docs/tags/slice"},{"inline":true,"label":"channel","permalink":"/yiwen-blog-website/docs/tags/channel"},{"inline":true,"label":"\u9762\u8bd5\u9898","permalink":"/yiwen-blog-website/docs/tags/\u9762\u8bd5\u9898"}],"version":"current","lastUpdatedAt":1771999934000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"\u5f15\u7528\u7c7b\u578b vs \u503c\u7c7b\u578b\u901f\u67e5\u8868","tags":["go","types","\u5f15\u7528\u7c7b\u578b","\u503c\u7c7b\u578b","map","slice","channel","\u9762\u8bd5\u9898"]},"sidebar":"backendSidebar","previous":{"title":"\u57fa\u7840\u8bed\u6cd5\u8be6\u89e3","permalink":"/yiwen-blog-website/docs/backend/go/basics-syntax"},"next":{"title":"\u5b57\u7b26\u4e32\u8bbe\u8ba1\u54f2\u5b66","permalink":"/yiwen-blog-website/docs/backend/go/string-design"}}');var l=s(74848),d=s(28453);const r={sidebar_position:3,title:"\u5f15\u7528\u7c7b\u578b vs \u503c\u7c7b\u578b\u901f\u67e5\u8868",tags:["go","types","\u5f15\u7528\u7c7b\u578b","\u503c\u7c7b\u578b","map","slice","channel","\u9762\u8bd5\u9898"]},c="Go \u5f15\u7528\u7c7b\u578b vs \u503c\u7c7b\u578b\u901f\u67e5\u8868",t={},a=[{value:"\u5f15\u7528\u8bed\u4e49\u7c7b\u578b",id:"\u5f15\u7528\u8bed\u4e49\u7c7b\u578b",level:2},{value:"\u503c\u7c7b\u578b",id:"\u503c\u7c7b\u578b",level:2},{value:"\u5e38\u89c1\u9677\u9631\u793a\u4f8b",id:"\u5e38\u89c1\u9677\u9631\u793a\u4f8b",level:2},{value:"1. slice\uff1a\u5171\u4eab\u6570\u7ec4\u4f46 Len \u72ec\u7acb",id:"1-slice\u5171\u4eab\u6570\u7ec4\u4f46-len-\u72ec\u7acb",level:3},{value:"2. array\uff1a\u5b8c\u5168\u590d\u5236",id:"2-array\u5b8c\u5168\u590d\u5236",level:3},{value:"3. struct\uff1a\u5b8c\u5168\u590d\u5236",id:"3-struct\u5b8c\u5168\u590d\u5236",level:3},{value:"4. map\uff1a\u76f4\u63a5\u4f20\u5c31\u884c",id:"4-map\u76f4\u63a5\u4f20\u5c31\u884c",level:3},{value:"\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u4f20\u6307\u9488\uff1f",id:"\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u4f20\u6307\u9488",level:2},{value:"\u4e00\u53e5\u8bdd\u603b\u7ed3",id:"\u4e00\u53e5\u8bdd\u603b\u7ed3",level:2},{value:"\u76f8\u5173\u9605\u8bfb",id:"\u76f8\u5173\u9605\u8bfb",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"go-\u5f15\u7528\u7c7b\u578b-vs-\u503c\u7c7b\u578b\u901f\u67e5\u8868",children:"Go \u5f15\u7528\u7c7b\u578b vs \u503c\u7c7b\u578b\u901f\u67e5\u8868"})}),"\n",(0,l.jsx)(n.p,{children:'Go \u4e2d\u4f20\u9012\u53d8\u91cf\u65f6\uff0c\u6709\u4e9b\u7c7b\u578b\u4f1a\u590d\u5236\u5e95\u5c42\u6570\u636e\uff08\u503c\u7c7b\u578b\uff09\uff0c\u6709\u4e9b\u53ea\u590d\u5236"\u6307\u9488/\u5f15\u7528"\uff08\u5f15\u7528\u8bed\u4e49\u7c7b\u578b\uff09\u3002\u641e\u6e05\u695a\u8fd9\u4e00\u70b9\uff0c\u80fd\u907f\u514d\u5f88\u591a\u5751\u3002'}),"\n",(0,l.jsx)(n.h2,{id:"\u5f15\u7528\u8bed\u4e49\u7c7b\u578b",children:"\u5f15\u7528\u8bed\u4e49\u7c7b\u578b"}),"\n",(0,l.jsxs)(n.p,{children:["\u4ee5\u4e0b\u7c7b\u578b\u4f20\u9012\u65f6",(0,l.jsx)(n.strong,{children:"\u4e0d\u4f1a\u590d\u5236\u5e95\u5c42\u6570\u636e"}),"\uff0c\u4fee\u6539\u4f1a\u5f71\u54cd\u539f\u59cb\u6570\u636e\uff1a"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,l.jsx)(n.th,{children:"\u5e95\u5c42\u5b9e\u73b0"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"map"})}),(0,l.jsx)(n.td,{children:"\u6307\u5411\u54c8\u5e0c\u8868\u7684\u6307\u9488"}),(0,l.jsxs)(n.td,{children:["\u76f4\u63a5\u4f20\u9012\u5373\u53ef\uff0c\u65e0\u9700 ",(0,l.jsx)(n.code,{children:"&"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"slice"})}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"{Ptr, Len, Cap}"})," \u7ed3\u6784\u4f53"]}),(0,l.jsx)(n.td,{children:"\u6307\u9488\u5171\u4eab\u6570\u7ec4\uff0c\u4f46 Len/Cap \u72ec\u7acb"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"channel"})}),(0,l.jsx)(n.td,{children:"\u6307\u5411\u901a\u9053\u7ed3\u6784\u7684\u6307\u9488"}),(0,l.jsx)(n.td,{children:"\u76f4\u63a5\u4f20\u9012\u5373\u53ef"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"pointer"})}),(0,l.jsx)(n.td,{children:"\u6307\u9488\u672c\u8eab"}),(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"*T"})," \u7c7b\u578b"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"function"})}),(0,l.jsx)(n.td,{children:"\u51fd\u6570\u5f15\u7528"}),(0,l.jsx)(n.td,{children:"\u51fd\u6570\u503c\u662f\u5f15\u7528"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.strong,{children:"interface"})}),(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"{\u7c7b\u578b\u4fe1\u606f, \u6570\u636e\u6307\u9488}"})}),(0,l.jsx)(n.td,{children:"\u5185\u90e8\u5305\u542b\u6307\u9488"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u503c\u7c7b\u578b",children:"\u503c\u7c7b\u578b"}),"\n",(0,l.jsxs)(n.p,{children:["\u4ee5\u4e0b\u7c7b\u578b\u4f20\u9012\u65f6",(0,l.jsx)(n.strong,{children:"\u4f1a\u5b8c\u6574\u590d\u5236"}),"\uff0c\u4fee\u6539\u4e0d\u5f71\u54cd\u539f\u59cb\u6570\u636e\uff1a"]}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u7c7b\u578b"}),(0,l.jsx)(n.th,{children:"\u8bf4\u660e"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:[(0,l.jsx)(n.code,{children:"int"}),", ",(0,l.jsx)(n.code,{children:"float64"}),", ",(0,l.jsx)(n.code,{children:"bool"})]}),(0,l.jsx)(n.td,{children:"\u57fa\u672c\u6570\u5b57\u548c\u5e03\u5c14\u7c7b\u578b"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"string"})}),(0,l.jsx)(n.td,{children:"\u4e0d\u53ef\u53d8\uff0c\u4f20\u9012\u65f6\u590d\u5236\u5934\u90e8\u7ed3\u6784"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"array"})}),(0,l.jsxs)(n.td,{children:["\u56fa\u5b9a\u957f\u5ea6\u6570\u7ec4\uff0c",(0,l.jsx)(n.strong,{children:"\u6ce8\u610f\u4e0d\u662f slice"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{children:(0,l.jsx)(n.code,{children:"struct"})}),(0,l.jsx)(n.td,{children:"\u7ed3\u6784\u4f53\u4f1a\u5b8c\u6574\u590d\u5236\u6240\u6709\u5b57\u6bb5"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u5e38\u89c1\u9677\u9631\u793a\u4f8b",children:"\u5e38\u89c1\u9677\u9631\u793a\u4f8b"}),"\n",(0,l.jsx)(n.h3,{id:"1-slice\u5171\u4eab\u6570\u7ec4\u4f46-len-\u72ec\u7acb",children:"1. slice\uff1a\u5171\u4eab\u6570\u7ec4\u4f46 Len \u72ec\u7acb"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"func modify(s []int) {\n    s[0] = 999      // \u2705 \u5916\u90e8\u80fd\u770b\u5230\uff0c\u56e0\u4e3a\u5171\u4eab\u5e95\u5c42\u6570\u7ec4\n    s = append(s, 4) // \u274c \u5916\u90e8\u770b\u4e0d\u5230\uff0c\u56e0\u4e3a Len \u662f\u72ec\u7acb\u7684\u526f\u672c\n}\n\nfunc main() {\n    s := []int{1, 2, 3}\n    modify(s)\n    fmt.Println(s) // [999 2 3]\uff0c\u957f\u5ea6\u8fd8\u662f 3\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"2-array\u5b8c\u5168\u590d\u5236",children:"2. array\uff1a\u5b8c\u5168\u590d\u5236"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:"func modify(a [3]int) {\n    a[0] = 999 // \u4fee\u6539\u7684\u662f\u526f\u672c\n}\n\nfunc main() {\n    a := [3]int{1, 2, 3}\n    modify(a)\n    fmt.Println(a) // [1 2 3]\uff0c\u4e0d\u53d8\uff01\n}\n"})}),"\n",(0,l.jsx)(n.h3,{id:"3-struct\u5b8c\u5168\u590d\u5236",children:"3. struct\uff1a\u5b8c\u5168\u590d\u5236"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'type Person struct {\n    Name string\n}\n\nfunc modify(p Person) {\n    p.Name = "Jerry" // \u4fee\u6539\u7684\u662f\u526f\u672c\n}\n\nfunc main() {\n    p := Person{Name: "Tom"}\n    modify(p)\n    fmt.Println(p.Name) // "Tom"\uff0c\u4e0d\u53d8\uff01\n}\n'})}),"\n",(0,l.jsx)(n.h3,{id:"4-map\u76f4\u63a5\u4f20\u5c31\u884c",children:"4. map\uff1a\u76f4\u63a5\u4f20\u5c31\u884c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-go",children:'func modify(m map[string]int) {\n    m["new"] = 100 // \u2705 \u5916\u90e8\u80fd\u770b\u5230\n}\n\nfunc main() {\n    m := map[string]int{"a": 1}\n    modify(m)\n    fmt.Println(m) // map[a:1 new:100]\n}\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u4f20\u6307\u9488",children:"\u4ec0\u4e48\u65f6\u5019\u9700\u8981\u4f20\u6307\u9488\uff1f"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{children:"\u573a\u666f"}),(0,l.jsx)(n.th,{children:"\u662f\u5426\u9700\u8981\u6307\u9488"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"map"})]}),(0,l.jsx)(n.td,{children:"\u274c \u4e0d\u9700\u8981\uff0c\u76f4\u63a5\u4f20"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"slice"})," \u4f46\u8981 ",(0,l.jsx)(n.code,{children:"append"})]}),(0,l.jsxs)(n.td,{children:["\u2705 \u9700\u8981 ",(0,l.jsx)(n.code,{children:"*[]T"})," \u6216\u8fd4\u56de\u65b0 slice"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"slice"})," \u53ea\u4fee\u6539\u5143\u7d20"]}),(0,l.jsx)(n.td,{children:"\u274c \u4e0d\u9700\u8981"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"struct"})," \u8981\u4fee\u6539"]}),(0,l.jsxs)(n.td,{children:["\u2705 \u9700\u8981 ",(0,l.jsx)(n.code,{children:"*StructName"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"array"})," \u8981\u4fee\u6539"]}),(0,l.jsxs)(n.td,{children:["\u2705 \u9700\u8981 ",(0,l.jsx)(n.code,{children:"*[N]T"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsxs)(n.td,{children:["\u4f20 ",(0,l.jsx)(n.code,{children:"channel"})]}),(0,l.jsx)(n.td,{children:"\u274c \u4e0d\u9700\u8981\uff0c\u76f4\u63a5\u4f20"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u4e00\u53e5\u8bdd\u603b\u7ed3",children:"\u4e00\u53e5\u8bdd\u603b\u7ed3"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"map\u3001channel\u3001function \u76f4\u63a5\u4f20\uff1bslice \u6539\u5143\u7d20\u76f4\u63a5\u4f20\uff0cappend \u8981\u8fd4\u56de\u6216\u4f20\u6307\u9488\uff1bstruct\u3001array \u8981\u4fee\u6539\u5fc5\u987b\u4f20\u6307\u9488\u3002"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u76f8\u5173\u9605\u8bfb",children:"\u76f8\u5173\u9605\u8bfb"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/backend/go/basic-types",children:"\u57fa\u7840\u7c7b\u578b"})," - Go \u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/backend/go/slice-pass-by-value",children:"\u5207\u7247\u4f20\u53c2\u7684\u503c\u62f7\u8d1d\u9677\u9631"})," - \u6df1\u5165\u7406\u89e3 slice \u4f20\u53c2"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/backend/go/slice-internals",children:"\u5207\u7247\u5185\u90e8\u7ed3\u6784"})," - SliceHeader \u8be6\u89e3"]}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},28453(e,n,s){s.d(n,{R:()=>r,x:()=>c});var i=s(96540);const l={},d=i.createContext(l);function r(e){const n=i.useContext(d);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:r(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);