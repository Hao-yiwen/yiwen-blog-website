"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[24264],{28453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>l});var t=s(96540);const i={},o=t.createContext(i);function a(n){const e=t.useContext(o);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function l(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),t.createElement(o.Provider,{value:e},n.children)}},60832:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>r,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>c});var t=s(96059),i=s(74848),o=s(28453);const a={title:"nginx\u914d\u7f6e"},l="nginx\u914d\u7f6e",r={authorsImageUrls:[]},c=[{value:"root\u548calias\u533a\u522b",id:"root\u548calias\u533a\u522b",level:2},{value:"root",id:"root",level:3},{value:"alias",id:"alias",level:3},{value:"nginx\u793a\u4f8b",id:"nginx\u793a\u4f8b",level:2}];function p(n){const e={code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h2,{id:"root\u548calias\u533a\u522b",children:"root\u548calias\u533a\u522b"}),"\n",(0,i.jsx)(e.h3,{id:"root",children:"root"}),"\n",(0,i.jsx)(e.p,{children:"\u5f53\u4f7f\u7528 root \u65f6\uff0c\u8bf7\u6c42\u7684\u5b8c\u6574 URI\uff08\u4ece location \u90e8\u5206\u5f00\u59cb\uff09\u4f1a\u88ab\u76f4\u63a5\u9644\u52a0\u5230 root \u6307\u4ee4\u6307\u5b9a\u7684\u8def\u5f84\u4e0a\u3002\u8fd9\u610f\u5473\u7740 root + location + \u8bf7\u6c42\u7684\u76f8\u5bf9 URI = \u6587\u4ef6\u7cfb\u7edf\u4e0a\u7684\u7edd\u5bf9\u8def\u5f84\u3002"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"location /images/ {\n    root /data;\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8bf7\u6c42 /images/pic.jpg \u5bf9\u5e94\u7684\u6587\u4ef6\u8def\u5f84\u5c31\u662f /data/images/pic.jpg\u3002"}),"\n",(0,i.jsx)(e.h3,{id:"alias",children:"alias"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.strong,{children:"\u4f7f\u7528 alias \u65f6\uff0clocation \u4e2d\u5b9a\u4e49\u7684\u8def\u5f84\u4f1a\u88ab alias \u6307\u5b9a\u7684\u8def\u5f84\u66ff\u6362\u3002"})}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"location /images/ {\n    alias /data/photos/;\n}\n"})}),"\n",(0,i.jsx)(e.p,{children:"\u8bf7\u6c42 /images/pic.jpg \u5bf9\u5e94\u7684\u6587\u4ef6\u8def\u5f84\u5c31\u662f /data/photos/pic.jpg\u3002"}),"\n",(0,i.jsx)(e.h2,{id:"nginx\u793a\u4f8b",children:"nginx\u793a\u4f8b"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"# \u8bbe\u7f6e\u5de5\u4f5c\u8fdb\u7a0b\u7684\u6570\u91cf\u3002\nworker_processes  1;\n\n# \u8bbe\u7f6e\u6bcf\u4e2a\u5de5\u4f5c\u8fdb\u7a0b\u7684\u6700\u5927\u8fde\u63a5\u6570\u3002\nevents {\n    worker_connections  1024;\n}\n\n# HTTP \u914d\u7f6e\u5757\u3002\nhttp {\n    # \u5305\u542b MIME \u7c7b\u578b\u5b9a\u4e49\u3002\n    include       mime.types;\n    # \u9ed8\u8ba4 MIME \u7c7b\u578b\u3002\n    default_type  application/octet-stream;\n\n    # \u5f00\u542f\u9ad8\u6548\u6587\u4ef6\u4f20\u8f93\u6a21\u5f0f\u3002\n    sendfile        on;\n\n    # \u8bbe\u7f6e keep-alive \u8d85\u65f6\u65f6\u95f4\u3002\n    keepalive_timeout  65;\n\n    # \u6587\u4ef6\u670d\u52a1\n    upstream fileserver {\n        server 127.0.0.1:9000 weight=10;\n    }\n\n    server {\n        listen 8090;\n        server_name file.51xuecheng.cn;\n        #charset koi8-r;\n        ssi on;\n        ssi_silent_errors on;\n\n        location /video {\n            proxy_pass http://fileserver\n        }\n\n        location /mediafiles {\n            proxy_pass http://fileserver\n        }\n\n    }\n\n    # \u914d\u7f6e HTTP \u670d\u52a1\u5668\u3002\n    server {\n        # \u8bbe\u7f6e\u76d1\u542c\u7684\u7aef\u53e3\u548c\u670d\u52a1\u5668\u540d\u79f0\u3002\n        listen       8090;\n        server_name  localhost www.51xuecheng.cn;\n        #charset koi8-r;\n        ssi on;\n        ssi_silent_errors on;\n\n        # \u914d\u7f6e\u5bf9\u6839 URL \u7684\u8bf7\u6c42\u3002\n        location / {\n            # \u8bbe\u7f6e\u76ee\u5f55\u522b\u540d\u3002\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/;\n            # \u8bbe\u7f6e\u9ed8\u8ba4\u7d22\u5f15\u6587\u4ef6\u3002\n            index index.html index.htm;\n        }\n\n        # \u914d\u7f6e\u9759\u6001\u8d44\u6e90\uff08img\uff09\u3002\n        location /static/img/ {\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/img/;\n        }\n\n        # \u914d\u7f6e\u9759\u6001\u8d44\u6e90\uff08css\uff09\u3002\n        location /static/css/ {\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/css/;\n        }\n\n        # \u914d\u7f6e\u9759\u6001\u8d44\u6e90\uff08js\uff09\u3002\n        location /static/js/ {\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/js/;\n        }\n\n        # \u914d\u7f6e\u9759\u6001\u8d44\u6e90\uff08plugins\uff09\u5e76\u8bbe\u7f6e CORS \u5934\u90e8\u3002\n        location /static/plugins/ {\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/plugins/;\n            add_header Access-Control-Allow-Origin http://ucenter.51xuecheng.cn;\n            add_header Access-Control-Allow-Credentials true;\n            add_header Access-Control-Allow-Methods GET;\n        }\n\n        # \u914d\u7f6e\u63d2\u4ef6\u8d44\u6e90\u3002\n        location /plugins/ {\n            alias /Users/yw.hao/Downloads/xc-ui-pc-static-portal/plugins/;\n        }\n\n        # \u914d\u7f6e\u9519\u8bef\u9875\u9762\u3002\n        error_page   500 502 503 504  /50x.html;\n\n        # \u91cd\u5b9a\u5411\u5230\u9519\u8bef\u9875\u9762\u3002\n        location = /50x.html {\n            root   html;\n        }\n    }\n\n    # \u5305\u62ec\u5176\u4ed6\u670d\u52a1\u5668\u914d\u7f6e\u3002\n    include servers/*;\n}\n"})})]})}function d(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(p,{...n})}):p(n)}},96059:n=>{n.exports=JSON.parse('{"permalink":"/yiwen-blog-website/blog/nginx_settings","editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/blog/nginx_settings.md","source":"@site/blog/nginx_settings.md","title":"nginx\u914d\u7f6e","description":"root\u548calias\u533a\u522b","date":"2025-10-25T12:59:18.000Z","tags":[],"readingTime":1.83,"hasTruncateMarker":false,"authors":[],"frontMatter":{"title":"nginx\u914d\u7f6e"},"unlisted":false,"prevItem":{"title":"\u65b0\u4e00\u4ee3\u6784\u5efa\u5de5\u5177\u8bc4\u6d4b\u53ca\u5f00\u53d1\u4f7f\u7528","permalink":"/yiwen-blog-website/blog/new_build"},"nextItem":{"title":"\u4f7f\u7528proxyman\u8fdb\u884c\u6293\u5305","permalink":"/yiwen-blog-website/blog/proxyman"}}')}}]);