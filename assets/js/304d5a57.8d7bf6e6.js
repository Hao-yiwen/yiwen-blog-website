"use strict";(self.webpackChunkyiwen_blog_website=self.webpackChunkyiwen_blog_website||[]).push([[15125],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,kt:()=>_});var r=n(67294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var c=r.createContext({}),i=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},d=function(e){var t=i(e.components);return r.createElement(c.Provider,{value:t},e.children)},u="mdxType",p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},b=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=i(n),b=a,_=u["".concat(c,".").concat(b)]||u[b]||p[b]||o;return n?r.createElement(_,l(l({ref:t},d),{},{components:n})):r.createElement(_,l({ref:t},d))}));function _(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=b;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[u]="string"==typeof e?e:a,l[1]=s;for(var i=2;i<o;i++)l[i]=n[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}b.displayName="MDXCreateElement"},17084:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>i});var r=n(87462),a=(n(67294),n(3905));const o={},l="react\u7ec4\u4ef6\u90e8\u5206",s={unversionedId:"web/react_debugger/react_struct",id:"web/react_debugger/react_struct",title:"react\u7ec4\u4ef6\u90e8\u5206",description:"react\u5e93",source:"@site/docs/web/react_debugger/react_struct.md",sourceDirName:"web/react_debugger",slug:"/web/react_debugger/react_struct",permalink:"/yiwen-blog-website/docs/web/react_debugger/react_struct",draft:!1,editUrl:"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/web/react_debugger/react_struct.md",tags:[],version:"current",frontMatter:{},sidebar:"webSidebar",previous:{title:"react_reconciler_debug",permalink:"/yiwen-blog-website/docs/web/react_debugger/react_reconciler_debug"},next:{title:"scheduler\u89e3\u6790",permalink:"/yiwen-blog-website/docs/web/react_debugger/scheduler_debug"}},c={},i=[{value:"react\u5e93",id:"react\u5e93",level:2},{value:"react-dom\u5e93",id:"react-dom\u5e93",level:2},{value:"react-dom",id:"react-dom",level:3},{value:"react-reconciler",id:"react-reconciler",level:3},{value:"scheduler",id:"scheduler",level:3}],d={toc:i},u="wrapper";function p(e){let{components:t,...o}=e;return(0,a.kt)(u,(0,r.Z)({},d,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"react\u7ec4\u4ef6\u90e8\u5206"},"react\u7ec4\u4ef6\u90e8\u5206"),(0,a.kt)("h2",{id:"react\u5e93"},"react\u5e93"),(0,a.kt)("p",null,"react\u5e93\u662f\u5f00\u53d1\u8005\u5e38\u7528\u7684\u5e93\uff0c\u5176\u4e2d\u5e38\u7528\u7684hook\u548capi\u90fd\u5728\u90fd\u5728\u8fd9\u4e2a\u5e93\u4e2d\u3002\u5bfc\u51fa\u5982\u4e0b\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"export {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n    act as unstable_act,\n    // \u5143\u7d20\u548c\u4e0a\u4e0b\u6587\n    Children,\n    Component,\n    Fragment,\n    Profiler,\n    PureComponent,\n    StrictMode,\n    Suspense,\n    SuspenseList,\n    cloneElement,\n    createContext,\n    createElement,\n    createFactory,\n    createMutableSource,\n    createRef,\n    createServerContext,\n    forwardRef,\n    isValidElement,\n    lazy,\n    memo,\n    startTransition,\n    // \u4e0d\u7a33\u5b9a\u7684 API\n    unstable_Cache,\n    unstable_DebugTracingMode,\n    unstable_LegacyHidden,\n    unstable_Offscreen,\n    unstable_Scope,\n    unstable_TracingMarker,\n    unstable_getCacheSignal,\n    unstable_getCacheForType,\n    unstable_useCacheRefresh,\n    // hook\n    useId,\n    useCallback,\n    useContext,\n    useDebugValue,\n    useDeferredValue,\n    useEffect,\n    useImperativeHandle,\n    useInsertionEffect,\n    useLayoutEffect,\n    useMemo,\n    useMutableSource,\n    useSyncExternalStore,\n    useReducer,\n    useRef,\n    useState,\n    useTransition,\n    version,\n} from './src/React';\n")),(0,a.kt)("h2",{id:"react-dom\u5e93"},"react-dom\u5e93"),(0,a.kt)("p",null,"\u6b64\u5e93\u5b9e\u9645\u4e0a\u662f",(0,a.kt)("inlineCode",{parentName:"p"},"react-dom"),", ",(0,a.kt)("inlineCode",{parentName:"p"},"react-reconciler"),"\u548c",(0,a.kt)("inlineCode",{parentName:"p"},"scheduler"),"\u4e09\u8005\u6253\u5305\u5728\u4e00\u8d77\u7684\u4ea7\u7269\u3002\u4e5f\u662freact\u5e93\u7684\u6838\u5fc3\u3002\u50cffiber\u5207\u7247\uff0c\u6279\u5904\u7406\u548c\u4f18\u5148\u7ea7\u8c03\u5ea6\u90fd\u662f\u5728\u8fd9\u91cc\u5b9e\u73b0\u7684\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"export {\n    __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,\n    createPortal,\n    createRoot,\n    hydrateRoot,\n    findDOMNode,\n    flushSync,\n    hydrate,\n    render,\n    unmountComponentAtNode,\n    unstable_batchedUpdates,\n    unstable_createEventHandle,\n    unstable_flushControlled,\n    unstable_isNewReconciler,\n    unstable_renderSubtreeIntoContainer,\n    unstable_runWithPriority, // DO NOT USE: Temporarily exposed to migrate off of Scheduler.runWithPriority.\n    version,\n} from './src/client/ReactDOM';\n")),(0,a.kt)("h3",{id:"react-dom"},"react-dom"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"react-dom",src:n(37259).Z,width:"454",height:"1666"})),(0,a.kt)("p",null,"\u4ece\u4e0a\u8ff0\u4ee3\u7801\u7ed3\u6784\u53ef\u4ee5\u5f88\u660e\u663e\u7684\u770b\u5230\uff0creact-dom\u8d1f\u8d23\u521b\u5efadom\u5143\u7d20\u548c\u4e8b\u4ef6\u5904\u7406\u3002\u4e5f\u5c31\u662f\u8bf4\u5b83\u662f\u504fdom\u5c42\u7684\uff0c\u4e5f\u5c31\u662f\u771f\u5b9edom\u7684\u751f\u6210\u548c\u4e8b\u4ef6\u54cd\u5e94\u4e00\u4fa7\u3002"),(0,a.kt)("h3",{id:"react-reconciler"},"react-reconciler"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"alt text",src:n(30486).Z,width:"654",height:"1846"})),(0,a.kt)("p",null,"\u4ece\u4e0a\u56fe\u53ef\u4ee5\u770b\u5230react-reconciler\u5e93\u4e3b\u8981\u548cfiber\u6253\u4ea4\u9053\uff0c\u4e5f\u5c31\u662f\u4e3b\u8981\u662f\u8d1f\u8d23\u751f\u6210\u66f4\u65b0fiber\u8282\u70b9\u7684\uff0c\u800cfiber\u8282\u70b9\u7528\u94fe\u8868\u5f62\u5f0f\u6784\u6210\u4e86\u4e00\u9897\u5f71\u865a\u62dfdom\u6811\uff0c\u4ece\u800c\u5728\u72b6\u6001\u6539\u53d8\u65f6\u5019\u80fd\u591f\u505a\u5230\u6700\u771f\u5b9edom\u6811\u7684\u6700\u5c0f\u66f4\u65b0\u3002"),(0,a.kt)("p",null,"\u5728\u56fe\u4e2d\u5f88\u5bb9\u6613\u770b\u5230\u5927\u591a\u6570\u6587\u4ef6\u4e0b\u9762\u90fd\u6709.new.js\u548c.old.js\uff0c\u8fd9\u4e2a\u4e3b\u8981\u662f\u56e0\u4e3a\u534f\u8c03\u5668\u6709\u4e24\u4e2a\u7248\u672c\uff0c\u572818.2.0\u4f7f\u7528\u8001\u7248\u672c\u534f\u8c03\u5668\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// react-reconciler\u5b9e\u9645\u5bfc\u51fa\uff0c\u867d\u7136\u4e0d\u76f4\u63a5\u6253\u4ea4\u9053\uff0c\u4f46\u662f\u8fd9\u662f\u6574\u4e2areact web\u4f53\u7cfb\u7684\u6838\u5fc3\nimport {\n  createContainer as createContainer_old,\n  createHydrationContainer as createHydrationContainer_old,\n  updateContainer as updateContainer_old,\n  batchedUpdates as batchedUpdates_old,\n  deferredUpdates as deferredUpdates_old,\n  discreteUpdates as discreteUpdates_old,\n  flushControlled as flushControlled_old,\n  flushSync as flushSync_old,\n  isAlreadyRendering as isAlreadyRendering_old,\n  flushPassiveEffects as flushPassiveEffects_old,\n  getPublicRootInstance as getPublicRootInstance_old,\n  attemptSynchronousHydration as attemptSynchronousHydration_old,\n  attemptDiscreteHydration as attemptDiscreteHydration_old,\n  attemptContinuousHydration as attemptContinuousHydration_old,\n  attemptHydrationAtCurrentPriority as attemptHydrationAtCurrentPriority_old,\n  findHostInstance as findHostInstance_old,\n  findHostInstanceWithWarning as findHostInstanceWithWarning_old,\n  findHostInstanceWithNoPortals as findHostInstanceWithNoPortals_old,\n  shouldError as shouldError_old,\n  shouldSuspend as shouldSuspend_old,\n  injectIntoDevTools as injectIntoDevTools_old,\n  createPortal as createPortal_old,\n  createComponentSelector as createComponentSelector_old,\n  createHasPseudoClassSelector as createHasPseudoClassSelector_old,\n  createRoleSelector as createRoleSelector_old,\n  createTestNameSelector as createTestNameSelector_old,\n  createTextSelector as createTextSelector_old,\n  getFindAllNodesFailureDescription as getFindAllNodesFailureDescription_old,\n  findAllNodes as findAllNodes_old,\n  findBoundingRects as findBoundingRects_old,\n  focusWithin as focusWithin_old,\n  observeVisibleRects as observeVisibleRects_old,\n  registerMutableSourceForHydration as registerMutableSourceForHydration_old,\n  runWithPriority as runWithPriority_old,\n  getCurrentUpdatePriority as getCurrentUpdatePriority_old,\n} from './ReactFiberReconciler.old';\n")),(0,a.kt)("h3",{id:"scheduler"},"scheduler"),(0,a.kt)("p",null,(0,a.kt)("img",{alt:"scheduler",src:n(27783).Z,width:"756",height:"728"})),(0,a.kt)("p",null,"\u4ece\u56fe\u4e2d\u53ef\u4ee5\u5f88\u6e05\u6670\u7684\u770b\u5230\uff0cschedluer\u4e3b\u8981\u662f\u548c\u4f18\u5148\u7ea7\u6253\u4ea4\u9053\uff0c\u8fd9\u4e5f\u662freact\u53ef\u4e2d\u65adui\u66f4\u65b0\u548c\u4e8b\u4ef6\u5207\u7247\u6765\u6e90\u3002"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},"// \u8fd9\u4e9b\u662f\u8c03\u5ea6\u5668\u5bf9\u5916\u66b4\u9732\u7684api\uff0c\u53ef\u4ee5\u770b\u5230\u4e3b\u8981\u662f\u548c\u4f18\u5148\u7ea7\u76f8\u5173\nexport {\n  ImmediatePriority as unstable_ImmediatePriority,\n  UserBlockingPriority as unstable_UserBlockingPriority,\n  NormalPriority as unstable_NormalPriority,\n  IdlePriority as unstable_IdlePriority,\n  LowPriority as unstable_LowPriority,\n  unstable_runWithPriority,\n  unstable_next,\n  unstable_scheduleCallback,\n  unstable_cancelCallback,\n  unstable_wrapCallback,\n  unstable_getCurrentPriorityLevel,\n  shouldYieldToHost as unstable_shouldYield,\n  unstable_requestPaint,\n  unstable_continueExecution,\n  unstable_pauseExecution,\n  unstable_getFirstCallbackNode,\n  getCurrentTime as unstable_now,\n  forceFrameRate as unstable_forceFrameRate,\n};\n")))}p.isMDXComponent=!0},30486:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/react-reconciler-2391911a7e718a56ffe47cd7da28409d.png"},37259:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/react_dom-c7012feaab06a4aa3e6d2f0e2e56233e.png"},27783:(e,t,n)=>{n.d(t,{Z:()=>r});const r=n.p+"assets/images/scheduler-6f26ea353317fdb81940e79c4032b41a.png"}}]);