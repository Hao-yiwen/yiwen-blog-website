"use strict";(globalThis.webpackChunkyiwen_blog_website=globalThis.webpackChunkyiwen_blog_website||[]).push([[67395],{28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>r});var s=i(96540);const l={},d=s.createContext(l);function t(e){const n=s.useContext(d);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),s.createElement(d.Provider,{value:n},e.children)}},55827:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>r,default:()=>x,frontMatter:()=>t,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"ai/transformer/tokenization-vs-embedding","title":"\u5206\u8bcd\u4e0eEmbedding\uff1a\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4","description":"\u6838\u5fc3\u6982\u5ff5","source":"@site/docs/ai/transformer/tokenization-vs-embedding.md","sourceDirName":"ai/transformer","slug":"/ai/transformer/tokenization-vs-embedding","permalink":"/yiwen-blog-website/docs/ai/transformer/tokenization-vs-embedding","draft":false,"unlisted":false,"editUrl":"https://github.com/Hao-yiwen/yiwen-blog-website/tree/master/docs/ai/transformer/tokenization-vs-embedding.md","tags":[{"inline":true,"label":"NLP","permalink":"/yiwen-blog-website/docs/tags/nlp"},{"inline":true,"label":"Tokenization","permalink":"/yiwen-blog-website/docs/tags/tokenization"},{"inline":true,"label":"Embedding","permalink":"/yiwen-blog-website/docs/tags/embedding"},{"inline":true,"label":"Transformer","permalink":"/yiwen-blog-website/docs/tags/transformer"},{"inline":true,"label":"LLM","permalink":"/yiwen-blog-website/docs/tags/llm"}],"version":"current","lastUpdatedAt":1763856000000,"frontMatter":{"title":"\u5206\u8bcd\u4e0eEmbedding\uff1a\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4","sidebar_label":"\u5206\u8bcd\u4e0eEmbedding","date":"2025-11-23T00:00:00.000Z","last_update":{"date":"2025-11-23T00:00:00.000Z"},"tags":["NLP","Tokenization","Embedding","Transformer","LLM"]},"sidebar":"aiSidebar","previous":{"title":"subword tokenization\uff08\u5b50\u8bcd\u5206\u8bcd\u5668\uff09","permalink":"/yiwen-blog-website/docs/ai/transformer/subword_tokenization"},"next":{"title":"\u8bad\u7ec3vs\u63a8\u7406\u5e76\u884c\u6027","permalink":"/yiwen-blog-website/docs/ai/transformer/training-vs-inference-parallelism"}}');var l=i(74848),d=i(28453);const t={title:"\u5206\u8bcd\u4e0eEmbedding\uff1a\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4",sidebar_label:"\u5206\u8bcd\u4e0eEmbedding",date:new Date("2025-11-23T00:00:00.000Z"),last_update:{date:new Date("2025-11-23T00:00:00.000Z")},tags:["NLP","Tokenization","Embedding","Transformer","LLM"]},r="\u5206\u8bcd\u4e0eEmbedding\uff1a\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4",c={},o=[{value:"\u6838\u5fc3\u6982\u5ff5",id:"\u6838\u5fc3\u6982\u5ff5",level:2},{value:"\u5904\u7406\u6d41\u7a0b\u5bf9\u6bd4",id:"\u5904\u7406\u6d41\u7a0b\u5bf9\u6bd4",level:2},{value:"\u56fe\u4e66\u9986\u7c7b\u6bd4",id:"\u56fe\u4e66\u9986\u7c7b\u6bd4",level:3},{value:"\u6570\u636e\u6d41\u7a0b\u56fe",id:"\u6570\u636e\u6d41\u7a0b\u56fe",level:3},{value:"\u6df1\u5ea6\u5bf9\u6bd4",id:"\u6df1\u5ea6\u5bf9\u6bd4",level:2},{value:"\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u76f4\u63a5\u7528Token ID\u8ba1\u7b97\uff1f",id:"\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u76f4\u63a5\u7528token-id\u8ba1\u7b97",level:2},{value:"\u95ee\u9898\u6f14\u793a",id:"\u95ee\u9898\u6f14\u793a",level:3},{value:"Embedding\u7684\u89e3\u51b3\u65b9\u6848",id:"embedding\u7684\u89e3\u51b3\u65b9\u6848",level:3},{value:"\u4ee3\u7801\u793a\u4f8b\uff1a\u5b8c\u6574\u6d41\u7a0b",id:"\u4ee3\u7801\u793a\u4f8b\u5b8c\u6574\u6d41\u7a0b",level:2},{value:"PyTorch\u5b9e\u73b0",id:"pytorch\u5b9e\u73b0",level:3},{value:"\u5b9e\u9645\u6a21\u578b\u4e2d\u7684\u4f7f\u7528",id:"\u5b9e\u9645\u6a21\u578b\u4e2d\u7684\u4f7f\u7528",level:3},{value:"\u5173\u952e\u8981\u70b9\u603b\u7ed3",id:"\u5173\u952e\u8981\u70b9\u603b\u7ed3",level:2},{value:"\u672c\u8d28\u533a\u522b",id:"\u672c\u8d28\u533a\u522b",level:3},{value:"\u8bb0\u5fc6\u53e3\u8bc0",id:"\u8bb0\u5fc6\u53e3\u8bc0",level:3},{value:"\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316",id:"\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316",level:3},{value:"\u5e38\u89c1\u8bef\u533a",id:"\u5e38\u89c1\u8bef\u533a",level:2},{value:"\u274c \u8bef\u533a1\uff1a\u5206\u8bcd\u5c31\u662fEmbedding",id:"-\u8bef\u533a1\u5206\u8bcd\u5c31\u662fembedding",level:3},{value:"\u274c \u8bef\u533a2\uff1aToken ID\u6709\u8bed\u4e49\u4fe1\u606f",id:"-\u8bef\u533a2token-id\u6709\u8bed\u4e49\u4fe1\u606f",level:3},{value:"\u274c \u8bef\u533a3\uff1aEmbedding\u5c42\u53ea\u662f\u7b80\u5355\u67e5\u8868",id:"-\u8bef\u533a3embedding\u5c42\u53ea\u662f\u7b80\u5355\u67e5\u8868",level:3},{value:"\u62d3\u5c55\u9605\u8bfb",id:"\u62d3\u5c55\u9605\u8bfb",level:2},{value:"\u53c2\u8003\u8d44\u6599",id:"\u53c2\u8003\u8d44\u6599",level:2}];function h(e){const n={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"\u5206\u8bcd\u4e0eembedding\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4",children:"\u5206\u8bcd\u4e0eEmbedding\uff1a\u4ece\u6587\u672c\u5230\u5411\u91cf\u7684\u4e24\u4e2a\u5173\u952e\u6b65\u9aa4"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6838\u5fc3\u6982\u5ff5",children:"\u6838\u5fc3\u6982\u5ff5"}),"\n",(0,l.jsxs)(n.p,{children:["\u5728\u5927\u8bed\u8a00\u6a21\u578b\uff08LLM\uff09\u4e2d\uff0c**\u5206\u8bcd\uff08Tokenization\uff09",(0,l.jsx)(n.strong,{children:"\u548c"}),"Embedding\uff08\u8bcd\u5d4c\u5165\uff09**\u662f\u6587\u672c\u5904\u7406\u7684\u4e24\u4e2a\u8fde\u7eed\u4f46\u672c\u8d28\u5b8c\u5168\u4e0d\u540c\u7684\u6b65\u9aa4\uff1a"]}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5206\u8bcd"}),'\uff1a\u5c06"\u4eba\u7c7b\u8bed\u8a00"\u8f6c\u6362\u4e3a"\u673a\u5668\u80fd\u7d22\u5f15\u7684ID" \ud83d\udcd1']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Embedding"}),'\uff1a\u5c06"ID"\u8f6c\u6362\u4e3a"\u673a\u5668\u80fd\u7406\u89e3\u7684\u8bed\u4e49\u5411\u91cf" \ud83e\udde0']}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:"\u8fd9\u5c31\u50cf\u53bb\u56fe\u4e66\u9986\u67e5\u8d44\u6599\uff1a"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u5206\u8bcd"})," = \u67e5\u76ee\u5f55\u627e\u5230\u4e66\u7684\u7f16\u53f7\uff08\u7d22\u5f15\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"Embedding"})," = \u6253\u5f00\u90a3\u672c\u4e66\u9605\u8bfb\u5185\u5bb9\uff08\u7406\u89e3\uff09"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u5904\u7406\u6d41\u7a0b\u5bf9\u6bd4",children:"\u5904\u7406\u6d41\u7a0b\u5bf9\u6bd4"}),"\n",(0,l.jsx)(n.h3,{id:"\u56fe\u4e66\u9986\u7c7b\u6bd4",children:"\u56fe\u4e66\u9986\u7c7b\u6bd4"}),"\n",(0,l.jsx)(n.p,{children:'\u5047\u8bbe\u4f60\u8981\u67e5\u5173\u4e8e"\u82f9\u679c"\u7684\u8d44\u6599\uff1a'}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6b65\u9aa41\uff1a\u5206\u8bcd\uff08\u67e5\u76ee\u5f55\uff09"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8f93\u5165"}),'\uff1a\u6587\u672c "Apple"']}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u52a8\u4f5c"}),"\uff1a\u5728\u9884\u5148\u6784\u5efa\u7684\u8bcd\u8868\uff08BPE\u8bcd\u8868\uff09\u4e2d\u67e5\u627e"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8f93\u51fa"}),"\uff1a\u627e\u5230\u5bf9\u5e94\u7684 ",(0,l.jsx)(n.strong,{children:"ID 502"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7279\u70b9"}),"\uff1a\u7eaf\u7cb9\u7684\u67e5\u8868\u64cd\u4f5c\uff0c\u65e0\u4efb\u4f55\u8bed\u4e49\u7406\u89e3"]}),"\n"]}),"\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:"\u6b65\u9aa42\uff1aEmbedding\uff08\u8bfb\u5185\u5bb9\uff09"})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8f93\u5165"}),"\uff1a",(0,l.jsx)(n.strong,{children:"ID 502"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u52a8\u4f5c"}),"\uff1a\u5728\u6a21\u578b\u7684Embedding\u77e9\u9635\u4e2d\u68c0\u7d22\u7b2c502\u884c"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u8f93\u51fa"}),"\uff1a\u5f97\u5230\u8bed\u4e49\u5411\u91cf ",(0,l.jsx)(n.code,{children:"[0.8, -0.1, 0.5, ...]"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u7279\u70b9"}),'\uff1a\u5411\u91cf\u5305\u542b"\u7ea2\u8272"\u3001"\u5706\u5f62"\u3001"\u53ef\u98df\u7528"\u7b49\u8bed\u4e49\u4fe1\u606f']}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u6570\u636e\u6d41\u7a0b\u56fe",children:"\u6570\u636e\u6d41\u7a0b\u56fe"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mermaid",children:"graph LR\n    A[\u6587\u672c: I love AI] --\x3e|\u5206\u8bcd\u5668 Tokenizer| B[Token IDs: 40, 256, 1024]\n    B --\x3e|\u67e5\u8868 Lookup| C[Embedding\u77e9\u9635<br/>vocab_size \xd7 hidden_dim]\n    C --\x3e|\u6620\u5c04| D[\u8bed\u4e49\u5411\u91cf\u5e8f\u5217<br/>3 \xd7 768\u7ef4]\n    D --\x3e|\u8f93\u5165| E[Transformer\u5c42]\n\n    style B fill:#ffe6e6,stroke:#ff6666,stroke-width:2px\n    style D fill:#e6f3ff,stroke:#4d94ff,stroke-width:2px\n\n    note1[\u79bb\u6563\u6574\u6570<br/>\u4e0d\u53ef\u5b66\u4e60]\n    note2[\u8fde\u7eed\u6d6e\u70b9\u6570<br/>\u53ef\u8bad\u7ec3\u53c2\u6570]\n    B -.-> note1\n    D -.-> note2\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u6df1\u5ea6\u5bf9\u6bd4",children:"\u6df1\u5ea6\u5bf9\u6bd4"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u7ef4\u5ea6"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u5206\u8bcd (Tokenization)"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Embedding (\u8bcd\u5d4c\u5165)"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u6570\u636e\u7c7b\u578b"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u79bb\u6563\u6574\u6570\uff08Discrete\uff09",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"[40, 256, 1024]"})]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u8fde\u7eed\u6d6e\u70b9\u6570\uff08Continuous\uff09",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"[[0.12, -0.98, ...], ...]"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u662f\u5426\u53ef\u8bad\u7ec3"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u274c \u56fa\u5b9a\u4e0d\u53d8",(0,l.jsx)("br",{}),"\u8bad\u7ec3\u524d\u5b9a\u597d\uff0c\u8bad\u7ec3\u4e2d\u4e0d\u6539"]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u2705 \u52a8\u6001\u8c03\u6574",(0,l.jsx)("br",{}),"\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u4e0d\u65ad\u4f18\u5316"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u5305\u542b\u8bed\u4e49"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u274c \u65e0\u8bed\u4e49",(0,l.jsx)("br",{}),"ID 10\u548cID 11\u53ef\u80fd\u5b8c\u5168\u65e0\u5173"]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u2705 \u6709\u8bed\u4e49",(0,l.jsx)("br",{}),"\u76f8\u4f3c\u8bcd\u5411\u91cf\u8ddd\u79bb\u8fd1"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u7ef4\u5ea6"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["1\u7ef4\u6807\u91cf",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"502"})]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u9ad8\u7ef4\u5411\u91cf",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"768/1024/4096\u7ef4"})]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u6570\u5b66\u8fd0\u7b97"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u4e0d\u53ef\u76f4\u63a5\u8fd0\u7b97",(0,l.jsx)("br",{}),"\u4ec5\u4f5c\u7d22\u5f15\u4f7f\u7528"]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u53ef\u8fdb\u884c\u5411\u91cf\u8fd0\u7b97",(0,l.jsx)("br",{}),"\u52a0\u51cf\u4e58\u9664\u3001\u70b9\u79ef\u7b49"]})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u7ed9\u8c01\u7528"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Embedding\u5c42\u7684\u8f93\u5165\u7d22\u5f15"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"Transformer\u5404\u5c42\u7684\u6570\u5b66\u8ba1\u7b97"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u5b58\u50a8\u4f4d\u7f6e"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u5206\u8bcd\u5668\u7684\u8bcd\u8868\u6587\u4ef6",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"tokenizer.json"})]}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u6a21\u578b\u6743\u91cd\u77e9\u9635",(0,l.jsx)("br",{}),(0,l.jsx)(n.code,{children:"embedding.weight"})]})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u76f4\u63a5\u7528token-id\u8ba1\u7b97",children:"\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u76f4\u63a5\u7528Token ID\u8ba1\u7b97\uff1f"}),"\n",(0,l.jsx)(n.h3,{id:"\u95ee\u9898\u6f14\u793a",children:"\u95ee\u9898\u6f14\u793a"}),"\n",(0,l.jsx)(n.p,{children:"\u5047\u8bbe\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:['"\u9999\u8549" \u2192 ID ',(0,l.jsx)(n.strong,{children:"10"})]}),"\n",(0,l.jsxs)(n.li,{children:['"\u82f9\u679c" \u2192 ID ',(0,l.jsx)(n.strong,{children:"20"})]}),"\n",(0,l.jsxs)(n.li,{children:['"\u897f\u74dc" \u2192 ID ',(0,l.jsx)(n.strong,{children:"30"})]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u5982\u679c\u76f4\u63a5\u7528ID\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\u4f1a\u51fa\u73b0",(0,l.jsx)(n.strong,{children:"\u4e25\u91cd\u95ee\u9898"}),"\uff1a"]}),"\n",(0,l.jsxs)(n.p,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"\u5927\u5c0f\u5173\u7cfb\u6df7\u4e71"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"\u897f\u74dc(30) > \u82f9\u679c(20) > \u9999\u8549(10)  # \u8bcd\u6c47\u6ca1\u6709\u5927\u5c0f\u4e4b\u5206\uff01\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"\u865a\u5047\u7684\u6570\u5b66\u5173\u7cfb"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"\u897f\u74dc(30) = \u9999\u8549(10) + \u82f9\u679c(20)  # \u5b8c\u5168\u6ca1\u6709\u610f\u4e49\uff01\n"})}),"\n",(0,l.jsxs)(n.p,{children:["\u274c ",(0,l.jsx)(n.strong,{children:"\u76f8\u90bbID\u65e0\u8bed\u4e49\u5173\u8054"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'ID 100: "\u732b"\nID 101: "\u91cf\u5b50\u529b\u5b66"  # ID\u76f8\u90bb\uff0c\u4f46\u6beb\u65e0\u5173\u7cfb\n'})}),"\n",(0,l.jsx)(n.h3,{id:"embedding\u7684\u89e3\u51b3\u65b9\u6848",children:"Embedding\u7684\u89e3\u51b3\u65b9\u6848"}),"\n",(0,l.jsxs)(n.p,{children:["\u5c06ID\u6620\u5c04\u5230",(0,l.jsx)(n.strong,{children:"\u9ad8\u7ef4\u8bed\u4e49\u7a7a\u95f4"}),"\uff08\u901a\u5e38768/1024/4096\u7ef4\uff09\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# \u4f2a\u4ee3\u7801\u793a\u4f8b\nembedding_matrix = torch.nn.Embedding(vocab_size=50257, embed_dim=768)\n\n# \u5206\u8bcd\u7ed3\u679c\ntoken_ids = [10, 20, 30]  # [\u9999\u8549, \u82f9\u679c, \u897f\u74dc]\n\n# \u8f6c\u6362\u4e3a\u5411\u91cf\nembeddings = embedding_matrix(token_ids)\n# Shape: [3, 768]\n# \u6bcf\u4e2a\u8bcd\u90fd\u662f768\u7ef4\u7684\u6d6e\u70b9\u6570\u5411\u91cf\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u8fd9\u4e2a\u7a7a\u95f4\u91cc\uff1a"}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"\u76f8\u4f3c\u8bcd\u805a\u96c6"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'distance("\u82f9\u679c", "\u9999\u8549") = 0.12  # \u8ddd\u79bb\u5f88\u8fd1\uff08\u90fd\u662f\u6c34\u679c\uff09\ndistance("\u82f9\u679c", "\u6c7d\u8f66") = 3.45  # \u8ddd\u79bb\u5f88\u8fdc\n'})}),"\n",(0,l.jsxs)(n.p,{children:["\u2705 ",(0,l.jsx)(n.strong,{children:"\u652f\u6301\u8bed\u4e49\u8fd0\u7b97"})]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'vector("\u56fd\u738b") - vector("\u7537\u4eba") + vector("\u5973\u4eba") \u2248 vector("\u5973\u738b")\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u4ee3\u7801\u793a\u4f8b\u5b8c\u6574\u6d41\u7a0b",children:"\u4ee3\u7801\u793a\u4f8b\uff1a\u5b8c\u6574\u6d41\u7a0b"}),"\n",(0,l.jsx)(n.h3,{id:"pytorch\u5b9e\u73b0",children:"PyTorch\u5b9e\u73b0"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'import torch\nimport torch.nn as nn\n\n# 1. \u6a21\u62df\u5206\u8bcd\u7ed3\u679c\uff08Token IDs\uff09\ntext = "I love AI"\ntoken_ids = torch.tensor([40, 256, 1024])  # \u5047\u8bbe\u8fd9\u662f\u5206\u8bcd\u540e\u7684\u7ed3\u679c\n\n# 2. \u521b\u5efaEmbedding\u5c42\nvocab_size = 50000  # \u8bcd\u8868\u5927\u5c0f\nembedding_dim = 768  # \u5411\u91cf\u7ef4\u5ea6\uff08BERT-base\u89c4\u6a21\uff09\nembedding_layer = nn.Embedding(vocab_size, embedding_dim)\n\n# 3. ID\u8f6c\u5411\u91cf\nembeddings = embedding_layer(token_ids)\n\nprint(f"Token IDs: {token_ids}")\nprint(f"Embeddings shape: {embeddings.shape}")  # [3, 768]\nprint(f"\u7b2c\u4e00\u4e2atoken\u7684\u5411\u91cf\u524d5\u7ef4: {embeddings[0, :5]}")\n'})}),"\n",(0,l.jsx)(n.h3,{id:"\u5b9e\u9645\u6a21\u578b\u4e2d\u7684\u4f7f\u7528",children:"\u5b9e\u9645\u6a21\u578b\u4e2d\u7684\u4f7f\u7528"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'from transformers import GPT2Tokenizer, GPT2Model\n\n# \u521d\u59cb\u5316\ntokenizer = GPT2Tokenizer.from_pretrained("gpt2")\nmodel = GPT2Model.from_pretrained("gpt2")\n\n# \u6587\u672c\u8f93\u5165\ntext = "Hello, how are you?"\n\n# \u6b65\u9aa41\uff1a\u5206\u8bcd\uff08Tokenization\uff09\ninput_ids = tokenizer.encode(text, return_tensors="pt")\nprint(f"Token IDs: {input_ids}")\n# Output: tensor([[15496,   11,   703,   389,   345,    30]])\n\n# \u6b65\u9aa42\uff1aEmbedding\uff08\u5728\u6a21\u578b\u5185\u90e8\u81ea\u52a8\u5b8c\u6210\uff09\nwith torch.no_grad():\n    outputs = model(input_ids)\n    embeddings = outputs.last_hidden_state  # [1, 6, 768]\n\nprint(f"Embedding shape: {embeddings.shape}")\n'})}),"\n",(0,l.jsx)(n.h2,{id:"\u5173\u952e\u8981\u70b9\u603b\u7ed3",children:"\u5173\u952e\u8981\u70b9\u603b\u7ed3"}),"\n",(0,l.jsx)(n.h3,{id:"\u672c\u8d28\u533a\u522b",children:"\u672c\u8d28\u533a\u522b"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-mermaid",children:"mindmap\n  root((\u6587\u672c\u5904\u7406))\n    \u5206\u8bcd Tokenization\n      \u67e5\u8868\u64cd\u4f5c\n      \u79bb\u6563\u7a7a\u95f4\n      \u4e0d\u53ef\u8bad\u7ec3\n      \u65e0\u8bed\u4e49\n    Embedding\n      \u5411\u91cf\u6620\u5c04\n      \u8fde\u7eed\u7a7a\u95f4\n      \u53ef\u8bad\u7ec3\n      \u6709\u8bed\u4e49\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u8bb0\u5fc6\u53e3\u8bc0",children:"\u8bb0\u5fc6\u53e3\u8bc0"}),"\n",(0,l.jsxs)(n.blockquote,{children:["\n",(0,l.jsx)(n.p,{children:(0,l.jsx)(n.strong,{children:'\u5206\u8bcd\u662f"\u7f16\u53f7"\uff0cEmbedding\u662f"\u5185\u6db5"'})}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:["\u5206\u8bcd\uff1a\u7ed9\u6bcf\u4e2a\u8bcd\u53d1\u5f20",(0,l.jsx)(n.strong,{children:"\u8eab\u4efd\u8bc1"}),"\uff08ID\uff09"]}),"\n",(0,l.jsxs)(n.li,{children:["Embedding\uff1a\u8bb0\u5f55\u6bcf\u4e2a\u4eba\u7684",(0,l.jsx)(n.strong,{children:"\u8be6\u7ec6\u6863\u6848"}),"\uff08\u5411\u91cf\uff09"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316",children:"\u8bad\u7ec3\u8fc7\u7a0b\u4e2d\u7684\u53d8\u5316"}),"\n",(0,l.jsxs)(n.table,{children:[(0,l.jsx)(n.thead,{children:(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u9636\u6bb5"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"\u5206\u8bcd\u5668"}),(0,l.jsx)(n.th,{style:{textAlign:"left"},children:"Embedding\u77e9\u9635"})]})}),(0,l.jsxs)(n.tbody,{children:[(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u9884\u8bad\u7ec3\u524d"})}),(0,l.jsxs)(n.td,{style:{textAlign:"left"},children:["\u2705 \u5df2\u56fa\u5b9a",(0,l.jsx)("br",{}),"\u57fa\u4e8e\u8bed\u6599\u5e93\u8bad\u7ec3"]}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83c\udfb2 \u968f\u673a\u521d\u59cb\u5316"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u9884\u8bad\u7ec3\u4e2d"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83d\udd12 \u4fdd\u6301\u4e0d\u53d8"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83d\udcc8 \u4e0d\u65ad\u4f18\u5316\u5b66\u4e60\u8bed\u4e49"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u9884\u8bad\u7ec3\u540e"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83d\udd12 \u51bb\u7ed3"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\u2705 \u5b66\u5230\u4e30\u5bcc\u8bed\u4e49\u8868\u793a"})]}),(0,l.jsxs)(n.tr,{children:[(0,l.jsx)(n.td,{style:{textAlign:"left"},children:(0,l.jsx)(n.strong,{children:"\u5fae\u8c03"})}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83d\udd12 \u901a\u5e38\u4e0d\u53d8"}),(0,l.jsx)(n.td,{style:{textAlign:"left"},children:"\ud83d\udd04 \u7ee7\u7eed\u8c03\u6574\u9002\u5e94\u65b0\u4efb\u52a1"})]})]})]}),"\n",(0,l.jsx)(n.h2,{id:"\u5e38\u89c1\u8bef\u533a",children:"\u5e38\u89c1\u8bef\u533a"}),"\n",(0,l.jsx)(n.h3,{id:"-\u8bef\u533a1\u5206\u8bcd\u5c31\u662fembedding",children:"\u274c \u8bef\u533a1\uff1a\u5206\u8bcd\u5c31\u662fEmbedding"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# \u9519\u8bef\u7406\u89e3\n"\u5206\u8bcd\u540e\u76f4\u63a5\u5f97\u5230\u5411\u91cf" \u274c\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6b63\u786e"}),"\uff1a\u5206\u8bcd\u5f97\u5230\u7684\u662f\u6574\u6570ID\uff0c\u9700\u8981\u901a\u8fc7Embedding\u5c42\u8f6c\u6362\u4e3a\u5411\u91cf\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"-\u8bef\u533a2token-id\u6709\u8bed\u4e49\u4fe1\u606f",children:"\u274c \u8bef\u533a2\uff1aToken ID\u6709\u8bed\u4e49\u4fe1\u606f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:'# \u9519\u8bef\u7406\u89e3\ntoken_id = 502  # \u8ba4\u4e3a502\u8fd9\u4e2a\u6570\u5b57\u672c\u8eab\u5305\u542b"\u82f9\u679c"\u7684\u4fe1\u606f \u274c\n'})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.strong,{children:"\u6b63\u786e"}),"\uff1aID\u53ea\u662f\u7d22\u5f15\uff0c\u8bed\u4e49\u4fe1\u606f\u5b58\u50a8\u5728Embedding\u77e9\u9635\u7684\u7b2c502\u884c\u5411\u91cf\u4e2d\u3002"]}),"\n",(0,l.jsx)(n.h3,{id:"-\u8bef\u533a3embedding\u5c42\u53ea\u662f\u7b80\u5355\u67e5\u8868",children:"\u274c \u8bef\u533a3\uff1aEmbedding\u5c42\u53ea\u662f\u7b80\u5355\u67e5\u8868"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-python",children:"# \u90e8\u5206\u6b63\u786e\u4f46\u4e0d\u5b8c\u6574\nembeddings = embedding_matrix[token_ids]  # \u2705 \u67e5\u8868\n# \u4f46Embedding\u77e9\u9635\u662f\u53ef\u8bad\u7ec3\u53c2\u6570\uff0c\u8bad\u7ec3\u4e2d\u4f1a\u66f4\u65b0\uff01\u2705\n"})}),"\n",(0,l.jsx)(n.h2,{id:"\u62d3\u5c55\u9605\u8bfb",children:"\u62d3\u5c55\u9605\u8bfb"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/ai/transformer/subword_tokenization",children:"\u5b50\u8bcd\u5206\u8bcd\u65b9\u6cd5\u8be6\u89e3"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/ai/transformer/transformer_complete_implementation",children:"Transformer\u5b8c\u6574\u5b9e\u73b0"})}),"\n",(0,l.jsx)(n.li,{children:(0,l.jsx)(n.a,{href:"/yiwen-blog-website/docs/ai/transformer/why-bpe-is-mainstream",children:"\u4e3a\u4ec0\u4e48BPE\u6210\u4e3a\u4e3b\u6d41"})}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u53c2\u8003\u8d44\u6599",children:"\u53c2\u8003\u8d44\u6599"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://arxiv.org/abs/1301.3781",children:"Word2Vec\u8bba\u6587"})," - Mikolov et al., 2013"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://nlp.stanford.edu/pubs/glove.pdf",children:"GloVe\u8bba\u6587"})," - Pennington et al., 2014"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://arxiv.org/abs/1810.04805",children:"BERT\u8bba\u6587"})," - Devlin et al., 2018"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.a,{href:"https://d4mucfpksywv.cloudfront.net/better-language-models/language_models_are_unsupervised_multitask_learners.pdf",children:"GPT-2\u8bba\u6587"})," - Radford et al., 2019"]}),"\n"]})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}}}]);